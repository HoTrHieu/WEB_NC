{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nexport function useQuery(fetchData) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const reFetch = useCallback(async () => {\n    setData(null);\n    setError(null);\n    setLoading(true);\n\n    if (fetchData) {\n      try {\n        setData(await fetchData());\n      } catch (err) {\n        console.error(err);\n        setError(err);\n      }\n\n      setLoading(false);\n    }\n  }, [fetchData]);\n  useEffect(() => {\n    reFetch();\n  }, [reFetch]);\n  return useMemo(() => ({\n    loading,\n    error,\n    data,\n    reFetch\n  }), [loading, error, data, reFetch]);\n}\n\n_s(useQuery, \"N9bBSP9XJkxkSosp7y0nAw2JA7w=\");","map":{"version":3,"sources":["/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/shared/hooks/useQuery.hook.ts"],"names":["useCallback","useEffect","useMemo","useState","useQuery","fetchData","loading","setLoading","error","setError","data","setData","reFetch","err","console"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,OAAjC,EAA0CC,QAA1C,QAA0D,OAA1D;AAEA,OAAO,SAASC,QAAT,CAAkBC,SAAlB,EAAuC;AAAA;;AAC5C,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAM,IAAN,CAAhC;AACA,QAAMS,OAAO,GAAGZ,WAAW,CAAC,YAAY;AACtCW,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAF,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAF,IAAAA,UAAU,CAAC,IAAD,CAAV;;AAEA,QAAIF,SAAJ,EAAe;AACb,UAAI;AACFM,QAAAA,OAAO,CAAC,MAAMN,SAAS,EAAhB,CAAP;AACD,OAFD,CAEE,OAAOQ,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACN,KAAR,CAAcK,GAAd;AACAJ,QAAAA,QAAQ,CAACI,GAAD,CAAR;AACD;;AACDN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GAd0B,EAcxB,CAACF,SAAD,CAdwB,CAA3B;AAgBAJ,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,OAAO;AACR,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;AAIA,SAAOV,OAAO,CACZ,OAAO;AACLI,IAAAA,OADK;AAELE,IAAAA,KAFK;AAGLE,IAAAA,IAHK;AAILE,IAAAA;AAJK,GAAP,CADY,EAOZ,CAACN,OAAD,EAAUE,KAAV,EAAiBE,IAAjB,EAAuBE,OAAvB,CAPY,CAAd;AASD;;GAjCeR,Q","sourcesContent":["import { useCallback, useEffect, useMemo, useState } from \"react\";\n\nexport function useQuery(fetchData: Function) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState<any>(null);\n  const reFetch = useCallback(async () => {\n    setData(null);\n    setError(null);\n    setLoading(true);\n    \n    if (fetchData) {\n      try {\n        setData(await fetchData());\n      } catch (err) {\n        console.error(err);\n        setError(err);\n      }\n      setLoading(false);\n    }\n  }, [fetchData]);\n\n  useEffect(() => {\n    reFetch();\n  }, [reFetch]);\n\n  return useMemo(\n    () => ({\n      loading,\n      error,\n      data,\n      reFetch\n    }),\n    [loading, error, data, reFetch]\n  );\n}\n"]},"metadata":{},"sourceType":"module"}