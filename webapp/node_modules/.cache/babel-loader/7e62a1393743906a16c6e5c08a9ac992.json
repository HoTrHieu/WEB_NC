{"ast":null,"code":"var _jsxFileName = \"/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/user/UserTable.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nimport { Table } from \"antd\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { UserService } from \"../user/UserService\";\nimport { UserTableColumns } from \"./UserTableColumns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function UserTable(props) {\n  _s();\n\n  var _usersResponse$data, _usersResponse$data2, _usersResponse$data3;\n\n  const [page, setPage] = useState(1);\n  const {\n    filters\n  } = props;\n  const fetchUsers = useCallback(() => {\n    return UserService.search({\n      page,\n      pageSize: 20,\n      ...filters,\n      all: true\n    });\n  }, [page, filters]);\n  const usersResponse = useQuery(fetchUsers);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: ((_usersResponse$data = usersResponse.data) === null || _usersResponse$data === void 0 ? void 0 : _usersResponse$data.total) || 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 16\n      }, this), \" rows\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: UserTableColumns,\n      loading: usersResponse.loading || !!usersResponse.error,\n      dataSource: (_usersResponse$data2 = usersResponse.data) === null || _usersResponse$data2 === void 0 ? void 0 : _usersResponse$data2.items,\n      pagination: {\n        pageSize: 20,\n        total: ((_usersResponse$data3 = usersResponse.data) === null || _usersResponse$data3 === void 0 ? void 0 : _usersResponse$data3.total) || 0,\n        showSizeChanger: false,\n        current: page,\n        onChange: page => setPage(page)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(UserTable, \"hDmc2YjLAc6UN98jrhob2NCKyYs=\", false, function () {\n  return [useQuery];\n});\n\n_c = UserTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserTable\");","map":{"version":3,"sources":["/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/user/UserTable.tsx"],"names":["React","useCallback","useState","Table","useQuery","UserService","UserTableColumns","UserTable","props","page","setPage","filters","fetchUsers","search","pageSize","all","usersResponse","data","total","loading","error","items","showSizeChanger","current","onChange"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,QAAT,QAAyB,kCAAzB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;;AAMA,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA2C;AAAA;;AAAA;;AAChD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,CAAD,CAAhC;AAEA,QAAM;AAAES,IAAAA;AAAF,MAAcH,KAApB;AACA,QAAMI,UAAU,GAAGX,WAAW,CAAC,MAAM;AACnC,WAAOI,WAAW,CAACQ,MAAZ,CAAmB;AAAEJ,MAAAA,IAAF;AAAQK,MAAAA,QAAQ,EAAE,EAAlB;AAAsB,SAAGH,OAAzB;AAAkCI,MAAAA,GAAG,EAAE;AAAvC,KAAnB,CAAP;AACD,GAF6B,EAE3B,CAACN,IAAD,EAAOE,OAAP,CAF2B,CAA9B;AAIA,QAAMK,aAAa,GAAGZ,QAAQ,CAACQ,UAAD,CAA9B;AAEA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,yCACS;AAAA,kBAAI,wBAAAI,aAAa,CAACC,IAAd,4EAAoBC,KAApB,KAA6B;AAAjC;AAAA;AAAA;AAAA;AAAA,cADT;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,KAAD;AACE,MAAA,OAAO,EAAEZ,gBADX;AAEE,MAAA,OAAO,EAAEU,aAAa,CAACG,OAAd,IAAyB,CAAC,CAACH,aAAa,CAACI,KAFpD;AAGE,MAAA,UAAU,0BAAEJ,aAAa,CAACC,IAAhB,yDAAE,qBAAoBI,KAHlC;AAIE,MAAA,UAAU,EAAE;AACVP,QAAAA,QAAQ,EAAE,EADA;AAEVI,QAAAA,KAAK,EAAE,yBAAAF,aAAa,CAACC,IAAd,8EAAoBC,KAApB,KAA6B,CAF1B;AAGVI,QAAAA,eAAe,EAAE,KAHP;AAIVC,QAAAA,OAAO,EAAEd,IAJC;AAKVe,QAAAA,QAAQ,EAAEf,IAAI,IAAIC,OAAO,CAACD,IAAD;AALf;AAJd;AAAA;AAAA;AAAA;AAAA,YALF;AAAA,kBADF;AAoBD;;GA9BeF,S;UAQQH,Q;;;KARRG,S","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport { Table } from \"antd\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { UserService } from \"../user/UserService\";\nimport { UserTableColumns } from \"./UserTableColumns\";\n\ninterface IUserTableProps {\n  filters?: any;\n}\n\nexport function UserTable(props: IUserTableProps) {\n  const [page, setPage] = useState(1);\n  \n  const { filters } = props;\n  const fetchUsers = useCallback(() => {\n    return UserService.search({ page, pageSize: 20, ...filters, all: true });\n  }, [page, filters]);\n\n  const usersResponse = useQuery(fetchUsers);\n\n  return (\n    <>\n      <div className=\"mb-4\">\n        Total: <b>{usersResponse.data?.total || 0}</b> rows\n      </div>\n\n      <Table\n        columns={UserTableColumns}\n        loading={usersResponse.loading || !!usersResponse.error}\n        dataSource={usersResponse.data?.items}\n        pagination={{\n          pageSize: 20,\n          total: usersResponse.data?.total || 0,\n          showSizeChanger: false,\n          current: page,\n          onChange: page => setPage(page)\n        }}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}