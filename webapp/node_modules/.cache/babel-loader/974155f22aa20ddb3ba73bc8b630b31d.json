{"ast":null,"code":"var _jsxFileName = \"/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/category/CategorySelect.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo } from \"react\";\nimport { FdmSelect } from \"../../shared/components/FdmSelect\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { ArrayUtils } from \"../../shared/utils/ArrayUtils\";\nimport { CategoryService } from \"./CategoryService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function CategorySelect(props) {\n  _s();\n\n  const {\n    onlyChildren,\n    onlyParent,\n    ...restProps\n  } = props;\n  const categoryResponse = useQuery(CategoryService.all);\n  const categories = useMemo(() => {\n    if (categoryResponse.data) {\n      if (onlyParent) {\n        return categoryResponse.data;\n      }\n\n      let categories = categoryResponse.data.map(c => c.children);\n\n      if (!onlyChildren) {\n        categories = [categoryResponse.data, ...categories];\n      }\n\n      return ArrayUtils.flatMap(categories);\n    }\n\n    return categoryResponse.data;\n  }, [categoryResponse.data, onlyChildren, onlyParent]);\n  return /*#__PURE__*/_jsxDEV(FdmSelect, {\n    placeholder: \"Category...\",\n    items: categories,\n    ...restProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 10\n  }, this);\n}\n\n_s(CategorySelect, \"t6qjEYwt2p/ZZRi7zUb0JiLOsFI=\", false, function () {\n  return [useQuery];\n});\n\n_c = CategorySelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategorySelect\");","map":{"version":3,"sources":["/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/category/CategorySelect.tsx"],"names":["React","useMemo","FdmSelect","useQuery","ArrayUtils","CategoryService","CategorySelect","props","onlyChildren","onlyParent","restProps","categoryResponse","all","categories","data","map","c","children","flatMap"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,SAASC,SAAT,QAA0B,mCAA1B;AAEA,SAASC,QAAT,QAAyB,kCAAzB;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,SAASC,eAAT,QAAgC,mBAAhC;;AAOA,OAAO,SAASC,cAAT,CAAwBC,KAAxB,EAAqD;AAAA;;AAC1D,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,UAAhB;AAA4B,OAAGC;AAA/B,MAA6CH,KAAnD;AACA,QAAMI,gBAAgB,GAAGR,QAAQ,CAACE,eAAe,CAACO,GAAjB,CAAjC;AACA,QAAMC,UAAU,GAAGZ,OAAO,CAAC,MAAM;AAC/B,QAAIU,gBAAgB,CAACG,IAArB,EAA2B;AACzB,UAAIL,UAAJ,EAAgB;AACd,eAAOE,gBAAgB,CAACG,IAAxB;AACD;;AACD,UAAID,UAAU,GAAGF,gBAAgB,CAACG,IAAjB,CAAsBC,GAAtB,CAA2BC,CAAD,IAAkBA,CAAC,CAACC,QAA9C,CAAjB;;AACA,UAAI,CAACT,YAAL,EAAmB;AACjBK,QAAAA,UAAU,GAAG,CAACF,gBAAgB,CAACG,IAAlB,EAAwB,GAAGD,UAA3B,CAAb;AACD;;AACD,aAAOT,UAAU,CAACc,OAAX,CAAmBL,UAAnB,CAAP;AACD;;AACD,WAAOF,gBAAgB,CAACG,IAAxB;AACD,GAZyB,EAYvB,CAACH,gBAAgB,CAACG,IAAlB,EAAwBN,YAAxB,EAAsCC,UAAtC,CAZuB,CAA1B;AAaA,sBAAO,QAAC,SAAD;AAAW,IAAA,WAAW,EAAC,aAAvB;AAAqC,IAAA,KAAK,EAAEI,UAA5C;AAAA,OAA4DH;AAA5D;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;GAjBeJ,c;UAEWH,Q;;;KAFXG,c","sourcesContent":["import { SelectProps } from \"antd\";\nimport React, { useMemo } from \"react\";\nimport { FdmSelect } from \"../../shared/components/FdmSelect\";\nimport { ICategory } from \"../../shared/entities/ICategory\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { ArrayUtils } from \"../../shared/utils/ArrayUtils\";\nimport { CategoryService } from \"./CategoryService\";\n\ninterface ICategorySelectProps extends SelectProps<any> {\n  onlyChildren?: boolean;\n  onlyParent?: boolean;\n}\n\nexport function CategorySelect(props: ICategorySelectProps) {\n  const { onlyChildren, onlyParent, ...restProps } = props;\n  const categoryResponse = useQuery(CategoryService.all);\n  const categories = useMemo(() => {\n    if (categoryResponse.data) {\n      if (onlyParent) {\n        return categoryResponse.data;\n      }\n      let categories = categoryResponse.data.map((c: ICategory) => c.children);\n      if (!onlyChildren) {\n        categories = [categoryResponse.data, ...categories];\n      }\n      return ArrayUtils.flatMap(categories);\n    }\n    return categoryResponse.data;\n  }, [categoryResponse.data, onlyChildren, onlyParent]);\n  return <FdmSelect placeholder=\"Category...\" items={categories} {...restProps} />;\n}\n"]},"metadata":{},"sourceType":"module"}