{"ast":null,"code":"var _jsxFileName = \"/Users/hieu/Documents/HCMUS_FIT/WEB_NC/webapp/src/modules/review/ReviewList.tsx\",\n    _s = $RefreshSig$();\n\nimport { Pagination, Rate } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { ReviewService } from \"./ReviewService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PAGE_SIZE = 10;\nexport function ReviewList(props) {\n  _s();\n\n  var _reviewsResponse$data;\n\n  const {\n    courseId\n  } = props;\n  const [page, setPage] = useState(1);\n  const fetchReviews = useCallback(() => {\n    return ReviewService.paginate(courseId, {\n      page,\n      pageSize: PAGE_SIZE\n    });\n  }, [page, courseId]);\n  const reviewsResponse = useQuery(fetchReviews);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: !reviewsResponse.data ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center\",\n        children: /*#__PURE__*/_jsxDEV(FdmLoading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: [\"Total: \", reviewsResponse.data.total, \" reviews\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap\",\n          children: reviewsResponse.data.items.map(rv => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg border py-3 px-5 mb-2 w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [rv.user.firstName, \" \", rv.user.lastName, \" (\", rv.user.username, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"flex mb-2 items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Rate, {\n                disabled: true,\n                value: rv.star\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ml-4 inline-block mt-1\",\n                children: moment(rv.createdDate).format('DD/MM/YYYY HH:mm')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: rv.feedback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        current: page,\n        pageSize: PAGE_SIZE,\n        total: ((_reviewsResponse$data = reviewsResponse.data) === null || _reviewsResponse$data === void 0 ? void 0 : _reviewsResponse$data.total) || 0,\n        onChange: page => setPage(page)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ReviewList, \"rih25irHeaQRY3UQ9YqdBdmSxFs=\", false, function () {\n  return [useQuery];\n});\n\n_c = ReviewList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewList\");","map":{"version":3,"sources":["/Users/hieu/Documents/HCMUS_FIT/WEB_NC/webapp/src/modules/review/ReviewList.tsx"],"names":["Pagination","Rate","moment","React","useCallback","useState","FdmLoading","useQuery","ReviewService","PAGE_SIZE","ReviewList","props","courseId","page","setPage","fetchReviews","paginate","pageSize","reviewsResponse","data","total","items","map","rv","user","firstName","lastName","username","star","createdDate","format","feedback"],"mappings":"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","sourcesContent":["import { Pagination, Rate } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { IReview } from \"../../shared/entities/IReview\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { ReviewService } from \"./ReviewService\";\n\ninterface IReviewListProps {\n  courseId: number;\n}\n\nconst PAGE_SIZE = 10;\n\nexport function ReviewList(props: IReviewListProps) {\n  const { courseId } = props;\n  const [page, setPage] = useState(1);\n  const fetchReviews = useCallback(() => {\n    return ReviewService.paginate(courseId, {\n      page,\n      pageSize: PAGE_SIZE,\n    });\n  }, [page, courseId]);\n  const reviewsResponse = useQuery(fetchReviews);\n  return (\n    <div>\n      <div>\n        {!reviewsResponse.data ? (\n          <div className=\"flex justify-center items-center\">\n            <FdmLoading />\n          </div>\n        ) : (\n          <>\n            <div className=\"mb-2\">Total: {reviewsResponse.data.total} reviews</div>\n            <div className=\"flex flex-wrap\">\n              {reviewsResponse.data.items.map((rv: IReview) => (\n                <div className=\"rounded-lg border py-3 px-5 mb-2 w-1/2\">\n                  <p className=\"mb-0\"><b>{rv.user.firstName} {rv.user.lastName} ({rv.user.username})</b></p>\n                  <p className=\"flex mb-2 items-center\">\n                    <Rate disabled value={rv.star} />{\" \"}\n                    <i className=\"ml-4 inline-block mt-1\">{moment(rv.createdDate).format('DD/MM/YYYY HH:mm')}</i>\n                  </p>\n                  <p className=\"mb-0\">{rv.feedback}</p>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n      <div className=\"flex justify-center mt-4\">\n        <Pagination\n          current={page}\n          pageSize={PAGE_SIZE}\n          total={reviewsResponse.data?.total || 0}\n          onChange={(page) => setPage(page)}\n        />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}