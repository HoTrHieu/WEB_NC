{"ast":null,"code":"import { notification } from 'antd';\nimport { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { NotificationUtils } from '../../shared/utils/NotificationUtils';\nexport class WatchListService {\n  static updateStatus(courseId, status) {\n    return CrudService.put(ApiEndpoint.watchList.updateStatus(courseId), {\n      status\n    });\n  }\n\n  static async updateStatusWithNotify(courseId, status) {\n    try {\n      const success = await this.updateStatus(courseId, status);\n      const state = status === EntityStatus.ACTIVE ? \"Love\" : \"Un-love\";\n\n      if (success) {\n        notification.success({\n          message: \"Success\",\n          description: `${state} course success`,\n          style: {\n            zIndex: 10\n          }\n        });\n      } else {\n        notification.error({\n          message: \"Error\",\n          description: `${state} failed, please try again`,\n          style: {\n            zIndex: 10\n          }\n        });\n      }\n\n      return success;\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n      return false;\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/watch-list/WatchListService.ts"],"names":["notification","ApiEndpoint","EntityStatus","CrudService","NotificationUtils","WatchListService","updateStatus","courseId","status","put","watchList","updateStatusWithNotify","success","state","ACTIVE","message","description","style","zIndex","error","err","console"],"mappings":"AAAA,SAASA,YAAT,QAA6B,MAA7B;AACA,SAASC,WAAT,QAA4B,oCAA5B;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,SAASC,WAAT,QAA4B,mCAA5B;AACA,SAASC,iBAAT,QAAkC,sCAAlC;AAEA,OAAO,MAAMC,gBAAN,CAAuB;AACT,SAAZC,YAAY,CAACC,QAAD,EAAmBC,MAAnB,EAAyC;AAC1D,WAAOL,WAAW,CAACM,GAAZ,CAAgBR,WAAW,CAACS,SAAZ,CAAsBJ,YAAtB,CAAmCC,QAAnC,CAAhB,EAA8D;AAAEC,MAAAA;AAAF,KAA9D,CAAP;AACD;;AAEkC,eAAtBG,sBAAsB,CAACJ,QAAD,EAAmBC,MAAnB,EAAyC;AAC1E,QAAI;AACF,YAAMI,OAAO,GAAG,MAAM,KAAKN,YAAL,CAAkBC,QAAlB,EAA4BC,MAA5B,CAAtB;AACA,YAAMK,KAAK,GAAGL,MAAM,KAAKN,YAAY,CAACY,MAAxB,GAAiC,MAAjC,GAA0C,SAAxD;;AACA,UAAIF,OAAJ,EAAa;AACXZ,QAAAA,YAAY,CAACY,OAAb,CAAqB;AACnBG,UAAAA,OAAO,EAAE,SADU;AAEnBC,UAAAA,WAAW,EAAG,GAAEH,KAAM,iBAFH;AAGnBI,UAAAA,KAAK,EAAE;AACLC,YAAAA,MAAM,EAAE;AADH;AAHY,SAArB;AAOD,OARD,MAQO;AACLlB,QAAAA,YAAY,CAACmB,KAAb,CAAmB;AACjBJ,UAAAA,OAAO,EAAE,OADQ;AAEjBC,UAAAA,WAAW,EAAG,GAAEH,KAAM,2BAFL;AAGjBI,UAAAA,KAAK,EAAE;AACLC,YAAAA,MAAM,EAAE;AADH;AAHU,SAAnB;AAOD;;AACD,aAAON,OAAP;AACD,KArBD,CAqBE,OAAOQ,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACF,KAAR,CAAcC,GAAd;AACAhB,MAAAA,iBAAiB,CAACe,KAAlB,CAAwBC,GAAG,CAACL,OAA5B;AACA,aAAO,KAAP;AACD;AACF;;AAhC2B","sourcesContent":["import { notification } from 'antd';\nimport { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { NotificationUtils } from '../../shared/utils/NotificationUtils';\n\nexport class WatchListService {\n  static updateStatus(courseId: number, status: EntityStatus) {\n    return CrudService.put(ApiEndpoint.watchList.updateStatus(courseId), { status });\n  }\n\n  static async updateStatusWithNotify(courseId: number, status: EntityStatus) {\n    try {\n      const success = await this.updateStatus(courseId, status);\n      const state = status === EntityStatus.ACTIVE ? \"Love\" : \"Un-love\";\n      if (success) {\n        notification.success({\n          message: \"Success\",\n          description: `${state} course success`,\n          style: {\n            zIndex: 10\n          }\n        });\n      } else {\n        notification.error({\n          message: \"Error\",\n          description: `${state} failed, please try again`,\n          style: {\n            zIndex: 10\n          }\n        });\n      }\n      return success;\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n      return false;\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}