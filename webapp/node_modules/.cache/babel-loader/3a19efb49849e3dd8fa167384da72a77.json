{"ast":null,"code":"var _jsxFileName = \"/Users/hieu/Documents/HCMUS_FIT/WEB_NC/webapp/src/modules/course/CourseReviewForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Form, Input, notification, Rate } from \"antd\";\nimport React, { useCallback, useState } from \"react\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { ReviewService } from \"../review/ReviewService\";\nimport { CourseReviewFormRules } from \"./CourseReviewFormRules\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst starText = [\"Add your rate\", \"Hate\", \"Don't like\", \"Ok\", \"Like\", \"Great like\"];\nexport function CourseReviewForm(props) {\n  _s();\n\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [hoverStar, setHoverStar] = useState(0);\n  const [star, setStar] = useState(0);\n  const [form] = Form.useForm();\n  const {\n    courseId,\n    onReviewSuccess\n  } = props;\n  const submit = useCallback(async values => {\n    setSubmitLoading(true);\n\n    try {\n      await ReviewService.review(courseId, values);\n      form.resetFields();\n      setHoverStar(0);\n      setStar(0);\n      notification.success({\n        message: \"Success\",\n        description: \"Thank you for your feedback\"\n      });\n      onReviewSuccess();\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n\n    setSubmitLoading(false);\n  }, [courseId, onReviewSuccess, form]);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    form: form,\n    onFinish: submit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"feedback\",\n      style: {\n        marginBottom: \".5rem\"\n      },\n      rules: CourseReviewFormRules.feedback,\n      children: /*#__PURE__*/_jsxDEV(Input.TextArea, {\n        placeholder: \"Add your feedback...\",\n        rows: 4,\n        maxLength: 1000,\n        showCount: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"star\",\n        style: {\n          marginBottom: \".5rem\"\n        },\n        rules: CourseReviewFormRules.star,\n        children: /*#__PURE__*/_jsxDEV(Rate, {\n          onHoverChange: setHoverStar,\n          onChange: setStar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-400 absolute\",\n        style: {\n          left: \"145px\",\n          top: \"7px\"\n        },\n        children: starText[hoverStar || star] || \"Add your rate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        loading: submitLoading,\n        type: \"primary\",\n        shape: \"round\",\n        htmlType: \"submit\",\n        children: \"Submit feedback\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CourseReviewForm, \"6ArQUvEX9glzW6NywdDVTZarmyY=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = CourseReviewForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseReviewForm\");","map":{"version":3,"sources":["/Users/hieu/Documents/HCMUS_FIT/WEB_NC/webapp/src/modules/course/CourseReviewForm.tsx"],"names":["Button","Form","Input","notification","Rate","React","useCallback","useState","NotificationUtils","ReviewService","CourseReviewFormRules","starText","CourseReviewForm","props","submitLoading","setSubmitLoading","hoverStar","setHoverStar","star","setStar","form","useForm","courseId","onReviewSuccess","submit","values","review","resetFields","success","message","description","err","console","error","marginBottom","feedback","left","top"],"mappings":"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","sourcesContent":["import { Button, Form, Input, notification, Rate } from \"antd\";\nimport React, { useCallback, useState } from \"react\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { ReviewService } from \"../review/ReviewService\";\nimport { CourseReviewFormRules } from \"./CourseReviewFormRules\";\n\ninterface ICourseReviewFormProps {\n  courseId: number;\n  onReviewSuccess: Function;\n}\n\nconst starText = [\n  \"Add your rate\",\n  \"Hate\",\n  \"Don't like\",\n  \"Ok\",\n  \"Like\",\n  \"Great like\",\n];\n\nexport function CourseReviewForm(props: ICourseReviewFormProps) {\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [hoverStar, setHoverStar] = useState(0);\n  const [star, setStar] = useState(0);\n  const [form] = Form.useForm();\n\n  const { courseId, onReviewSuccess } = props;\n  const submit = useCallback(\n    async (values: any) => {\n      setSubmitLoading(true);\n      try {\n        await ReviewService.review(courseId, values);\n        form.resetFields();\n        setHoverStar(0);\n        setStar(0);\n        notification.success({\n          message: \"Success\",\n          description: \"Thank you for your feedback\",\n        });\n        onReviewSuccess();\n      } catch (err) {\n        console.error(err);\n        NotificationUtils.error(err.message);\n      }\n      setSubmitLoading(false);\n    },\n    [courseId, onReviewSuccess, form]\n  );\n\n  return (\n    <Form form={form} onFinish={submit}>\n      <Form.Item\n        name=\"feedback\"\n        style={{ marginBottom: \".5rem\" }}\n        rules={CourseReviewFormRules.feedback}\n      >\n        <Input.TextArea\n          placeholder=\"Add your feedback...\"\n          rows={4}\n          maxLength={1000}\n          showCount\n        />\n      </Form.Item>\n      <div className=\"relative flex items-center\">\n        <Form.Item\n          name=\"star\"\n          style={{ marginBottom: \".5rem\" }}\n          rules={CourseReviewFormRules.star}\n        >\n          <Rate onHoverChange={setHoverStar} onChange={setStar} />\n        </Form.Item>\n        <span\n          className=\"text-red-400 absolute\"\n          style={{ left: \"145px\", top: \"7px\" }}\n        >\n          {starText[hoverStar || star] || \"Add your rate\"}\n        </span>\n      </div>\n      <Form.Item>\n        <Button\n          loading={submitLoading}\n          type=\"primary\"\n          shape=\"round\"\n          htmlType=\"submit\"\n        >\n          Submit feedback\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}