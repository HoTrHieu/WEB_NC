{"ast":null,"code":"var _jsxFileName = \"/Users/hieu/Documents/HCMUS_FIT/WEB_NC/webapp/src/modules/profile/ProfileEditForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { Divider, Form, Input } from \"antd\";\nimport React, { useCallback } from \"react\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { UserRole } from \"../../shared/enums/UserRole\";\nimport { useAuthedUser } from \"../../shared/hooks/useAuthedUser\";\nimport { useFdmStore } from \"../../shared/store/useFdmStore\";\nimport { EmailEditForm } from \"./EmailEditForm\";\nimport { FirstLastNameEditForm } from \"./FirstLastNameEditForm\";\nimport { TeacherProfileEditForm } from \"./TeacherProfileEditForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function ProfileEditForm(props) {\n  _s();\n\n  const store = useFdmStore();\n  const dispatch = store[1];\n  const {\n    authedUser,\n    loading\n  } = useAuthedUser();\n  const onSaveEmailSuccessHandler = useCallback(email => {\n    dispatch(\"SET_USER\", { ...authedUser,\n      email,\n      updatedEmailDate: new Date()\n    });\n  }, [dispatch, authedUser]);\n  const onSaveFlNameSuccessHandler = useCallback(payload => {\n    dispatch(\"SET_USER\", { ...authedUser,\n      ...payload\n    });\n  }, [dispatch, authedUser]);\n  const onSaveTeacherProfileSuccessHandler = useCallback(payload => {\n    dispatch(\"SET_USER\", { ...authedUser,\n      ...payload\n    });\n  }, [dispatch, authedUser]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(FdmLoading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        disabled: true,\n        defaultValue: authedUser === null || authedUser === void 0 ? void 0 : authedUser.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EmailEditForm, {\n      authedUser: authedUser,\n      onSaveSuccess: onSaveEmailSuccessHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FirstLastNameEditForm, {\n      authedUser: authedUser,\n      onSaveSuccess: onSaveFlNameSuccessHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), authedUser.role === UserRole.TEACHER && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TeacherProfileEditForm, {\n        authedUser: authedUser,\n        onSaveSuccess: onSaveTeacherProfileSuccessHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileEditForm, \"j1OWRvxkhSv+oZry3k3ebyzuUXg=\", false, function () {\n  return [useFdmStore, useAuthedUser];\n});\n\n_c = ProfileEditForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileEditForm\");","map":{"version":3,"sources":["/Users/hieu/Documents/HCMUS_FIT/WEB_NC/webapp/src/modules/profile/ProfileEditForm.tsx"],"names":["Divider","Form","Input","React","useCallback","FdmLoading","UserRole","useAuthedUser","useFdmStore","EmailEditForm","FirstLastNameEditForm","TeacherProfileEditForm","ProfileEditForm","props","store","dispatch","authedUser","loading","onSaveEmailSuccessHandler","email","updatedEmailDate","Date","onSaveFlNameSuccessHandler","payload","onSaveTeacherProfileSuccessHandler","username","role","TEACHER"],"mappings":"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","sourcesContent":["import { Divider, Form, Input } from \"antd\";\nimport React, { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { UserRole } from \"../../shared/enums/UserRole\";\nimport { useAuthedUser } from \"../../shared/hooks/useAuthedUser\";\nimport { useFdmStore } from \"../../shared/store/useFdmStore\";\nimport { EmailEditForm } from \"./EmailEditForm\";\nimport { FirstLastNameEditForm } from \"./FirstLastNameEditForm\";\nimport { TeacherProfileEditForm } from \"./TeacherProfileEditForm\";\n\nexport function ProfileEditForm(props: RouteComponentProps) {\n  const store = useFdmStore();\n  const dispatch = store[1];\n  const { authedUser, loading } = useAuthedUser();\n\n  const onSaveEmailSuccessHandler = useCallback(\n    (email: string) => {\n      dispatch(\"SET_USER\", {\n        ...authedUser,\n        email,\n        updatedEmailDate: new Date(),\n      });\n    },\n    [dispatch, authedUser]\n  );\n\n  const onSaveFlNameSuccessHandler = useCallback(\n    (payload: any) => {\n      dispatch(\"SET_USER\", { ...authedUser, ...payload });\n    },\n    [dispatch, authedUser]\n  );\n\n  const onSaveTeacherProfileSuccessHandler = useCallback(\n    (payload: any) => {\n      dispatch(\"SET_USER\", { ...authedUser, ...payload });\n    },\n    [dispatch, authedUser]\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center\">\n        <FdmLoading />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Form.Item>\n        <label className=\"block mb-2\">Username</label>\n        <Input disabled defaultValue={authedUser?.username} />\n      </Form.Item>\n      <Divider />\n      <EmailEditForm\n        authedUser={authedUser}\n        onSaveSuccess={onSaveEmailSuccessHandler}\n      />\n      <Divider />\n      <FirstLastNameEditForm\n        authedUser={authedUser}\n        onSaveSuccess={onSaveFlNameSuccessHandler}\n      />\n      {authedUser.role === UserRole.TEACHER && (\n        <>\n          <Divider />\n          <TeacherProfileEditForm\n            authedUser={authedUser}\n            onSaveSuccess={onSaveTeacherProfileSuccessHandler}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}