{"ast":null,"code":"var _jsxFileName = \"/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/course/CourseDetail.tsx\",\n    _s = $RefreshSig$();\n\nimport { BookOutlined, ClockCircleOutlined, HeartOutlined, MobileOutlined, SnippetsOutlined } from \"@ant-design/icons\";\nimport { Button, Divider, notification, Popconfirm, Rate, Tag } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { FdmImage } from \"../../shared/components/FdmImage\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { AuthService } from \"../auth/AuthService\";\nimport { EnrollmentService } from \"../enrollment/EnrollmentService\";\nimport { ReviewList } from \"../review/ReviewList\";\nimport { WatchListService } from \"../watch-list/WatchListService\";\nimport { CourseReviewForm } from \"./CourseReviewForm\";\nimport { FormatUtils } from \"../../shared/utils/FormatUtils\";\nimport { ContentList } from \"../content/ContentList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function CourseDetail(props) {\n  _s();\n\n  var _props$course$creator, _props$course$creator2, _props$course$content, _props$course$content2;\n\n  const history = useHistory();\n  const [enrollLoading, setEnrollLoading] = useState(false);\n  const [watchListLoading, setWatchListLoading] = useState(false);\n  const [isWatchList, setIsWatchList] = useState(props.course.isWatchList);\n  const updateWatchList = useCallback(async () => {\n    if (!AuthService.isAuthed) {\n      return history.push(\"/auth/login\");\n    }\n\n    setWatchListLoading(true);\n    const success = await WatchListService.updateStatusWithNotify(props.course.id, props.course.isWatchList ? EntityStatus.DISABLED : EntityStatus.ACTIVE);\n\n    if (success) {\n      setIsWatchList(!props.course.isWatchList);\n    }\n\n    setWatchListLoading(false);\n  }, [history, props.course]);\n  const {\n    onRefreshNeeded\n  } = props;\n  const enroll = useCallback(async () => {\n    if (!AuthService.isAuthed) {\n      return history.push(\"/auth/login\");\n    }\n\n    setEnrollLoading(true);\n\n    try {\n      await EnrollmentService.enroll(props.course.id);\n      notification.success({\n        message: \"Success\",\n        description: \"Enroll success, hope that you will have valuable lessons\",\n        style: {\n          zIndex: 10\n        }\n      });\n      onRefreshNeeded();\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n\n    setEnrollLoading(false);\n  }, [history, props.course, onRefreshNeeded]);\n  const fetchEnrollmentDetail = useCallback(() => {\n    if (AuthService.isAuthed) {\n      return EnrollmentService.getDetail(props.course.id);\n    }\n\n    return null;\n  }, [props.course.id]);\n  const enrollmentDetailResponse = useQuery(fetchEnrollmentDetail);\n  const isEnrolled = AuthService.isAuthed && !!enrollmentDetailResponse.data;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bg-gray-900 w-full left-0\",\n      style: {\n        zIndex: 1,\n        height: \"400px\",\n        marginTop: \"-2rem\",\n        backgroundImage: `url(${ASSETS_URL}/${props.course.coverPath})`,\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bg-gray-900 w-full left-0\",\n      style: {\n        zIndex: 2,\n        height: \"400px\",\n        marginTop: '-2rem',\n        opacity: 0.75\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-3/4 pr-4\",\n      style: {\n        zIndex: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/courses/${props.course.category.parent.id}`,\n          className: \"text-blue-400 \",\n          children: props.course.category.parent.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), \" \", \">\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n          to: `/courses/${props.course.category.id}`,\n          className: \"text-blue-400\",\n          children: props.course.category.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: props.course.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg text-white\",\n        children: props.course.subDescription\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-2 text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-yellow-300 mr-1\",\n          children: props.course.avgStar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Rate, {\n          disabled: true,\n          value: props.course.avgStar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), \" (\", props.course.totalReview, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1 mb-4\",\n        children: [props.course.totalEnrollment >= 400 && /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"gold\",\n          children: \"Best seller\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), moment().diff(moment(props.course.createdDate), \"day\") <= 7 && /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"green\",\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-2 text-white\",\n        children: [\"Created by\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"text-blue-400\",\n          children: [props.course.creator.firstName, \" \", props.course.creator.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white\",\n        children: [\"Last updated:\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"text-blue-400\",\n          children: moment(props.course.updatedDate).format(\"DD/MM/YYYY HH:mm\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          loading: watchListLoading,\n          type: isWatchList ? 'default' : 'primary',\n          danger: true,\n          shape: \"round\",\n          onClick: updateWatchList,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [isWatchList ? \"Remove\" : \"Add\", \" watch list\", \" \", /*#__PURE__*/_jsxDEV(HeartOutlined, {\n              className: \"ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-24\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: props.course.description\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-8 text-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Course contents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), Array.isArray(props.course.contents) && props.course.contents.length > 0 && /*#__PURE__*/_jsxDEV(ContentList, {\n          courseId: props.course.id,\n          contents: props.course.contents,\n          isEnrolled: isEnrolled\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-8 text-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"About the creator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border py-2 px-6 rounded-lg\",\n          style: {\n            borderLeftColor: \"rgb(96, 165, 250)\",\n            borderLeftWidth: \".2rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-red-500 text-xl mb-1\",\n            children: [(_props$course$creator = props.course.creator) === null || _props$course$creator === void 0 ? void 0 : _props$course$creator.firstName, \" \", (_props$course$creator2 = props.course.creator) === null || _props$course$creator2 === void 0 ? void 0 : _props$course$creator2.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: props.course.creator.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0\",\n            children: props.course.creator.introduction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-8 text-xl mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Student feedbacks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), isEnrolled && /*#__PURE__*/_jsxDEV(CourseReviewForm, {\n          courseId: props.course.id,\n          onReviewSuccess: props.onRefreshNeeded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ReviewList, {\n          courseId: props.course.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-1/4 relative\",\n      style: {\n        zIndex: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-5 border rounded-lg w-full bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mb-5\",\n          children: /*#__PURE__*/_jsxDEV(FdmImage, {\n            alt: props.course.title,\n            className: \"w-full rounded-lg\",\n            src: `${ASSETS_URL}/${props.course.avatarPath}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), !isEnrolled && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              className: \"text-red-400 text-xl\",\n              children: [\"$\", \" \", Math.round((props.course.price - props.course.discount) * 100) / 100]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"line-through ml-1 text-gray-400\",\n              children: props.course.discount ? `(${props.course.price})` : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n            placement: \"top\",\n            title: \"Are you sure to enroll this course?\",\n            onConfirm: enroll,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"large\",\n              danger: true,\n              className: \"w-full\",\n              type: \"primary\",\n              loading: enrollLoading,\n              children: \"Enroll now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"This course includes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(SnippetsOutlined, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), \" \", ((_props$course$content = props.course.contents) === null || _props$course$content === void 0 ? void 0 : _props$course$content.length) || 0, \" articles\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BookOutlined, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), \" \", FormatUtils.formatSeconds((_props$course$content2 = props.course.contents) === null || _props$course$content2 === void 0 ? void 0 : _props$course$content2.reduce((total, curr) => total + curr.duration, 0)), \" \", \"video time\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(ClockCircleOutlined, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), \" Full lifetime access\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(MobileOutlined, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), \" Access on mobile and TV\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CourseDetail, \"oWlHvg/nt8i5Jn54BhjxRcADj7c=\", false, function () {\n  return [useHistory, useQuery];\n});\n\n_c = CourseDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseDetail\");","map":{"version":3,"sources":["/Users/hieu/Documents/DoAnCuoiKi/src/WEB_NC/webapp/src/modules/course/CourseDetail.tsx"],"names":["BookOutlined","ClockCircleOutlined","HeartOutlined","MobileOutlined","SnippetsOutlined","Button","Divider","notification","Popconfirm","Rate","Tag","moment","React","useCallback","useState","Link","useHistory","FdmImage","ASSETS_URL","EntityStatus","useQuery","NotificationUtils","AuthService","EnrollmentService","ReviewList","WatchListService","CourseReviewForm","FormatUtils","ContentList","CourseDetail","props","history","enrollLoading","setEnrollLoading","watchListLoading","setWatchListLoading","isWatchList","setIsWatchList","course","updateWatchList","isAuthed","push","success","updateStatusWithNotify","id","DISABLED","ACTIVE","onRefreshNeeded","enroll","message","description","style","zIndex","err","console","error","fetchEnrollmentDetail","getDetail","enrollmentDetailResponse","isEnrolled","data","height","marginTop","backgroundImage","coverPath","backgroundPosition","backgroundRepeat","backgroundSize","opacity","category","parent","name","title","subDescription","avgStar","totalReview","totalEnrollment","diff","createdDate","creator","firstName","lastName","updatedDate","format","__html","Array","isArray","contents","length","borderLeftColor","borderLeftWidth","bio","introduction","avatarPath","Math","round","price","discount","formatSeconds","reduce","total","curr","duration"],"mappings":"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","sourcesContent":["import {\n  BookOutlined,\n  ClockCircleOutlined,\n  HeartOutlined,\n  MobileOutlined,\n  SnippetsOutlined,\n} from \"@ant-design/icons\";\nimport { Button, Divider, notification, Popconfirm, Rate, Tag } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { FdmImage } from \"../../shared/components/FdmImage\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\nimport { ICourse } from \"../../shared/entities/ICourse\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { AuthService } from \"../auth/AuthService\";\nimport { EnrollmentService } from \"../enrollment/EnrollmentService\";\nimport { ReviewList } from \"../review/ReviewList\";\nimport { WatchListService } from \"../watch-list/WatchListService\";\nimport { CourseReviewForm } from \"./CourseReviewForm\";\nimport { FormatUtils } from \"../../shared/utils/FormatUtils\";\nimport { ContentList } from \"../content/ContentList\";\n\ninterface ICourseDetailProps {\n  course: ICourse;\n  onRefreshNeeded: Function;\n}\n\nexport function CourseDetail(props: ICourseDetailProps) {\n  const history = useHistory();\n  const [enrollLoading, setEnrollLoading] = useState(false);\n  const [watchListLoading, setWatchListLoading] = useState(false);\n  const [isWatchList, setIsWatchList] = useState(props.course.isWatchList);\n  const updateWatchList = useCallback(async () => {\n    if (!AuthService.isAuthed) {\n      return history.push(\"/auth/login\");\n    }\n    setWatchListLoading(true);\n    const success = await WatchListService.updateStatusWithNotify(\n      props.course.id,\n      props.course.isWatchList ? EntityStatus.DISABLED : EntityStatus.ACTIVE\n    );\n    if (success) {\n      setIsWatchList(!props.course.isWatchList);\n    }\n    setWatchListLoading(false);\n  }, [history, props.course]);\n\n  const { onRefreshNeeded } = props;\n  const enroll = useCallback(async () => {\n    if (!AuthService.isAuthed) {\n      return history.push(\"/auth/login\");\n    }\n\n    setEnrollLoading(true);\n    try {\n      await EnrollmentService.enroll(props.course.id);\n      notification.success({\n        message: \"Success\",\n        description: \"Enroll success, hope that you will have valuable lessons\",\n        style: {\n          zIndex: 10,\n        },\n      });\n      onRefreshNeeded();\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n    setEnrollLoading(false);\n  }, [history, props.course, onRefreshNeeded]);\n\n  const fetchEnrollmentDetail = useCallback(() => {\n    if (AuthService.isAuthed) {\n      return EnrollmentService.getDetail(props.course.id);\n    }\n    return null;\n  }, [props.course.id]);\n  const enrollmentDetailResponse = useQuery(fetchEnrollmentDetail);\n  const isEnrolled = AuthService.isAuthed && !!enrollmentDetailResponse.data;\n  return (\n    <div className=\"flex\">\n      <div\n        className=\"absolute bg-gray-900 w-full left-0\"\n        style={{\n          zIndex: 1,\n          height: \"400px\",\n          marginTop: \"-2rem\",\n          backgroundImage: `url(${ASSETS_URL}/${props.course.coverPath})`,\n          backgroundPosition: \"center\",\n          backgroundRepeat: \"no-repeat\",\n          backgroundSize: \"cover\",\n        }}\n      ></div>\n      <div className=\"absolute bg-gray-900 w-full left-0\" style={{ zIndex: 2, height: \"400px\", marginTop: '-2rem', opacity: 0.75 }}></div>\n      <div className=\"w-3/4 pr-4\" style={{ zIndex: 2 }}>\n        <p className=\"text-white\">\n          <Link\n            to={`/courses/${props.course.category.parent.id}`}\n            className=\"text-blue-400 \"\n          >\n            {props.course.category.parent.name}\n          </Link>{\" \"}\n          &gt;{\" \"}\n          <Link\n            to={`/courses/${props.course.category.id}`}\n            className=\"text-blue-400\"\n          >\n            {props.course.category.name}\n          </Link>\n        </p>\n        <h1 className=\"text-3xl text-white\">\n          <b>{props.course.title}</b>\n        </h1>\n        <h3 className=\"text-lg text-white\">{props.course.subDescription}</h3>\n        <p className=\"mb-2 text-white\">\n          <span className=\"text-yellow-300 mr-1\">{props.course.avgStar}</span>{\" \"}\n          <Rate disabled value={props.course.avgStar} /> (\n          {props.course.totalReview})\n        </p>\n        <div className=\"mt-1 mb-4\">\n          {props.course.totalEnrollment >= 400 && (\n            <Tag color=\"gold\">Best seller</Tag>\n          )}\n          {moment().diff(moment(props.course.createdDate), \"day\") <= 7 && (\n            <Tag color=\"green\">New</Tag>\n          )}\n        </div>\n        <p className=\"mb-2 text-white\">\n          Created by{\" \"}\n          <i className=\"text-blue-400\">\n            {props.course.creator.firstName} {props.course.creator.lastName}\n          </i>\n        </p>\n        <p className=\"text-white\">\n          Last updated:{\" \"}\n          <i className=\"text-blue-400\">\n            {moment(props.course.updatedDate).format(\"DD/MM/YYYY HH:mm\")}\n          </i>\n        </p>\n        <div>\n          <Button\n            loading={watchListLoading}\n            type={isWatchList ? 'default' : 'primary'}\n            danger\n            shape=\"round\"\n            onClick={updateWatchList}\n          >\n            <div className=\"flex items-center\">\n              {isWatchList ? \"Remove\" : \"Add\"} watch list{\" \"}\n              <HeartOutlined className=\"ml-2\" />\n            </div>\n          </Button>\n        </div>\n        <div className=\"mt-24\">\n          <h3 className=\"text-xl\">\n            <b>Description</b>\n          </h3>\n          <div\n            dangerouslySetInnerHTML={{ __html: props.course.description }}\n          ></div>\n          <h3 className=\"mt-8 text-xl\">\n            <b>Course contents</b>\n          </h3>\n          {Array.isArray(props.course.contents) && props.course.contents.length > 0 && (\n            <ContentList courseId={props.course.id} contents={props.course.contents} isEnrolled={isEnrolled} />\n          )}\n          <h3 className=\"mt-8 text-xl\">\n            <b>About the creator</b>\n          </h3>\n          <div\n            className=\"border py-2 px-6 rounded-lg\"\n            style={{\n              borderLeftColor: \"rgb(96, 165, 250)\",\n              borderLeftWidth: \".2rem\",\n            }}\n          >\n            <h4 className=\"text-red-500 text-xl mb-1\">\n              {props.course.creator?.firstName} {props.course.creator?.lastName}\n            </h4>\n            <p className=\"text-gray-500\">{props.course.creator.bio}</p>\n            <p className=\"mb-0\">{props.course.creator.introduction}</p>\n          </div>\n          <h3 className=\"mt-8 text-xl mb-4\">\n            <b>Student feedbacks</b>\n          </h3>\n          {isEnrolled && (\n            <CourseReviewForm\n              courseId={props.course.id}\n              onReviewSuccess={props.onRefreshNeeded}\n            />\n          )}\n          <ReviewList courseId={props.course.id} />\n        </div>\n      </div>\n      <div className=\"w-1/4 relative\" style={{ zIndex: 2 }}>\n        <div className=\"p-5 border rounded-lg w-full bg-white\">\n          <div className=\"flex justify-center mb-5\">\n            <FdmImage\n              alt={props.course.title}\n              className=\"w-full rounded-lg\"\n              src={`${ASSETS_URL}/${props.course.avatarPath}`}\n            />\n          </div>\n          {!isEnrolled && (\n            <>\n              <h1 className=\"mb-2\">\n                <b className=\"text-red-400 text-xl\">\n                  ${\" \"}\n                  {Math.round(\n                    (props.course.price - props.course.discount) * 100\n                  ) / 100}\n                </b>{\" \"}\n                <span className=\"line-through ml-1 text-gray-400\">\n                  {props.course.discount ? `(${props.course.price})` : \"\"}\n                </span>\n              </h1>\n              <Popconfirm\n                placement=\"top\"\n                title=\"Are you sure to enroll this course?\"\n                onConfirm={enroll}\n              >\n                <Button\n                  size=\"large\"\n                  danger\n                  className=\"w-full\"\n                  type=\"primary\"\n                  loading={enrollLoading}\n                >\n                  Enroll now\n                </Button>\n              </Popconfirm>\n            </>\n          )}\n          <Divider />\n          <div>\n            <h3 className=\"mb-4\">\n              <b>This course includes:</b>\n            </h3>\n            <p className=\"flex items-center\">\n              <SnippetsOutlined className=\"mr-2\" />{\" \"}\n              {props.course.contents?.length || 0} articles\n            </p>\n            <p className=\"flex items-center\">\n              <BookOutlined className=\"mr-2\" />{\" \"}\n              {FormatUtils.formatSeconds(\n                props.course.contents?.reduce(\n                  (total, curr) => total + curr.duration,\n                  0\n                )\n              )}{\" \"}\n              video time\n            </p>\n            <p className=\"flex items-center\">\n              <ClockCircleOutlined className=\"mr-2\" /> Full lifetime access\n            </p>\n            <p className=\"flex items-center\">\n              <MobileOutlined className=\"mr-2\" /> Access on mobile and TV\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}