{"version":3,"sources":["shared/hooks/useQuery.hook.ts","shared/constants/ApiEndpoint.ts","shared/services/CrudService.ts","modules/user/UserService.ts","modules/admin/AdminPage.tsx","shared/enums/UserRole.ts","modules/auth/AuthService.ts","modules/user/UserFormRules.ts","shared/constants/constants.ts","modules/auth/LoginForm.tsx","shared/utils/NotificationUtils.tsx","modules/mail-sender/MailSenderService.ts","modules/otp/useOtpSender.tsx","modules/auth/AuthPage.tsx","modules/auth/RegisterFormRules.tsx","modules/auth/RegisterForm.tsx","images/logo/fdm-white.svg","shared/components/FdmLogo.tsx","shared/components/FdmLoading.tsx","shared/enums/EntityStatus.ts","shared/components/FdmImage.tsx","modules/enrollment/EnrollmentService.ts","modules/review/ReviewService.ts","modules/review/ReviewList.tsx","modules/watch-list/WatchListService.ts","modules/course/CourseReviewFormRules.ts","modules/course/CourseReviewForm.tsx","shared/utils/FormatUtils.ts","modules/study-process/StudyProcessService.ts","modules/content/ContentDetail.tsx","modules/content/ContentList.tsx","modules/course/CourseDetail.tsx","modules/course/CourseService.ts","modules/course/CourseDetailPage.tsx","shared/enums/OrderDirection.ts","shared/components/FdmOrderDirectionSelect.tsx","shared/components/FdmPriceSlider.tsx","shared/components/FdmStarSlider.tsx","shared/hooks/useCompKey.ts","shared/components/FdmSelect.tsx","shared/utils/ArrayUtils.ts","modules/category/CategoryService.ts","modules/category/CategorySelect.tsx","shared/store/FdmReducer.ts","shared/store/FdmStore.tsx","modules/course/enums/CourseOrderBy.ts","shared/store/useFdmStore.ts","shared/hooks/useAuthedUser.ts","modules/course/CourseCard.tsx","modules/course/CourseSortTypeSelect.tsx","modules/course/CourseList.tsx","modules/course/CourseListOfCreator.tsx","modules/course/CourseListPage.tsx","modules/course/SaveCourseResult.tsx","modules/course/CoursePage.tsx","modules/enrollment/EnrollmentPage.tsx","modules/course/enums/CourseTopType.ts","modules/home/HomePage.tsx","modules/profile/ProfilePage.tsx","modules/profile/ChangePasswordForm.tsx","modules/profile/ProfileActionButtonGroup.tsx","modules/profile/EmailEditForm.tsx","modules/profile/FirstLastNameEditForm.tsx","modules/profile/TeacherProfileEditForm.tsx","modules/profile/ProfileEditForm.tsx","shared/enums/FileType.ts","shared/enums/StdResponseCode.ts","modules/uploader/Uploader.tsx","shared/components/FdmEditor.tsx","modules/content/ContentEditFormRules.ts","modules/content/ContentEditForm.tsx","modules/course/CourseEditFormRules.ts","modules/course/CourseEditForm.tsx","modules/teacher/TeacherAddCoursePage.tsx","modules/teacher/TeacherDashboardPage.tsx","modules/teacher/TeacherEditCoursePage.tsx","modules/teacher/TeacherPage.tsx","modules/watch-list/WatchListPage.tsx","shared/components/FdmAuthedRoute.tsx","shared/pages/NotFound.page.tsx","AppRoutes.tsx","shared/components/FdmFooter.tsx","shared/components/FdmCategoryMenu.tsx","shared/components/FdmUserDropdownMenu.tsx","shared/components/FdmHeader.tsx","App.tsx","reportWebVitals.ts","index.tsx","initAxiosInterceptors.ts"],"names":["useQuery","fetchData","useState","loading","setLoading","error","setError","data","setData","reFetch","useCallback","a","console","useEffect","useMemo","ApiEndpoint","auth","register","login","loginGoogle","refreshAccessToken","getProfile","changePassword","user","search","add","checkEmail","checkUsername","updateEmail","updateFirstLastName","updateTeacherProfile","updateRole","id","updateStatus","category","all","topOfWeeks","udpateStatus","course","top","type","getDetail","update","increaseTotalView","content","uploader","upload","enrollment","courseId","enroll","review","paginate","studyProcess","findOne","findByCourseId","watchList","mailSender","sendOtpMail","AuthedApiEndpoints","CrudService","url","config","Axios","get","payload","getResult","post","result","method","put","success","this","UserService","request","create","email","params","res","exists","username","Column","Table","ColumnGroup","AdminPage","props","history","useHistory","collapsed","setCollapsed","req","page","pageSize","userList","log","className","onClick","style","marginBottom","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","defaultSelectedKeys","location","pathname","defaultOpenKeys","mode","theme","onSelect","e","push","key","inlineCollapsed","Item","icon","TeamOutlined","UserOutlined","ReadFilled","dataSource","firstName","lastName","role","status","createdDate","title","dataIndex","UserRole","AuthService","qs","parse","window","replace","accessToken","refreshToken","saveTokens","sessionStorage","getItem","ACCESS_TOKEN_KEY","localStorage","REFRESH_TOKEN_KEY","response","setItem","password","removeItem","clearTokens","logout","isAuthed","oldPassword","newPassword","ADMIN","UserFormRules","required","message","min","max","confirmPassword","getFieldValue","validator","_","value","Error","bio","introduction","ASSETS_URL","LoginForm","useForm","form","submit","values","redirect","notification","description","onFinish","name","rules","placeholder","shape","htmlType","danger","GoogleCircleFilled","transform","NotificationUtils","zIndex","MailSenderService","sendOtpWaitTimes","useOtpSender","sendOtpCount","setSendOtpCount","sendOtpWaitTime","setSendOtpWaitTime","intervalRef","useRef","sendOtp","removeInterval","current","clearInterval","totalWaitTime","Math","length","setInterval","SendOtpButton","memo","AuthTabs","RegisterFormRules","validateTrigger","otp","RegisterForm","setUser","submitLoading","setSubmitLoading","registerLoading","setRegisterLoading","otpSender","validateFields","AuthPage","state","width","defaultActiveKey","onChange","TabPane","tab","LOGIN","REGISTER","exact","from","to","path","component","FdmLogo","src","fdmLogo","alt","FdmLoading","LoadingOutlined","EntityStatus","FdmImage","preview","fallback","EnrollmentService","ReviewService","ReviewList","setPage","reviewsResponse","total","items","map","rv","disabled","star","moment","format","feedback","WatchListService","ACTIVE","CourseReviewFormRules","starText","CourseReviewForm","hoverStar","setHoverStar","setStar","Form","onReviewSuccess","resetFields","TextArea","rows","maxLength","showCount","onHoverChange","left","FormatUtils","val","seconds","pattern","startOf","StudyProcessService","contentId","duration","Player","require","ContentDetail","play","setPlay","playerRef","lastStateRef","unsubscribe","subscribeToStateChange","ended","done","floor","currentTime","dangerouslySetInnerHTML","__html","autoPlay","startTime","ref","videoPath","ContentList","contents","studyProcessResponse","studyProcessMap","reduce","sp","sort","b","order","isDone","isBlock","isEnrolled","Panel","collapsible","header","formatSeconds","LockOutlined","CheckCircleOutlined","CourseDetail","enrollLoading","setEnrollLoading","watchListLoading","setWatchListLoading","isWatchList","setIsWatchList","updateWatchList","updateStatusWithNotify","DISABLED","onRefreshNeeded","enrollmentDetailResponse","height","marginTop","backgroundImage","coverPath","backgroundPosition","backgroundRepeat","backgroundSize","opacity","parent","subDescription","avgStar","totalReview","totalEnrollment","color","diff","creator","updatedDate","HeartOutlined","Array","isArray","borderLeftColor","borderLeftWidth","avatarPath","round","price","discount","placement","onConfirm","size","SnippetsOutlined","BookOutlined","curr","ClockCircleOutlined","MobileOutlined","CourseService","CourseDetailPage","Number","match","courseResponse","OrderDirection","OrderDirectionDisplay","ASC","DESC","FdmOrderDirectionSelect","Object","Option","marks","0","500","FdmPriceSlider","range","5","FdmStarSlider","useCompKey","uuidv4","setKey","renew","compKey","renewCompKey","FdmSelect","getValue","getLabel","restProps","item","ArrayUtils","arr","x","y","concat","CategoryService","CategorySelect","onlyChildren","categoryResponse","categories","c","children","flatMap","FdmReducer","action","searchTerm","CourseOrderBy","initialState","FdmContext","createContext","FdmStore","useReducer","dispatch","Provider","useFdmStore","useContext","globalState","dispatcher","useAuthedUser","getUser","authedUser","CourseCard","right","HeartFilled","isEnrollment","creatorId","CourseOrderByDisplay","PRICE","REVIEW","CourseOrderBySelect","CourseList","setPageSize","setSearchTerm","orderBy","setOrderBy","orderDirection","setOrderDirection","categoryIds","categoryId","isNaN","filters","setFilters","searchTermCompKey","renewSearchTermCompKey","updateFilters","newFilters","propsFetchSource","fetchSource","pagingResponse","undefined","Search","allowClear","defaultValue","onSearch","idx","showSizeChanger","pageSizeOptions","onAfterChange","fromPrice","toPrice","fromStar","toStar","CourseListOfCreator","CourseListPage","SaveCourseResult","subTitle","extra","CoursePage","EnrollmentPage","onlyEnrollment","BookFilled","CourseTopType","ProfileTabs","features","YoutubeOutlined","SafetyOutlined","CodeOutlined","CopyOutlined","sliderSettings","dots","infinite","speed","slidesToShow","slidesToScroll","HomePage","topCoursesOfWeek","topCategoriesOfWeek","top10Viewed","VIEW","top10New","NEW","feature","keys","tc","ChangePasswordForm","ProfileActionButtonGroup","saveLoading","setSaveLoading","onSave","save","edit","saveBtnTitle","onCancel","onEdit","editBtnTitle","EmailEditForm","setEdit","setEmail","getEmail","onSaveSuccess","_sendOtp","remainDaysToUpdateEmail","updatedEmailDate","saveEmail","initialValues","FirstLastNameEditForm","saveFlName","TeacherProfileEditForm","saveTeacherProfile","ProfileEditForm","onSaveEmailSuccessHandler","Date","onSaveFlNameSuccessHandler","onSaveTeacherProfileSuccessHandler","TEACHER","ProfilePage","PROFILE","CHANGE_PASSWORD","FileType","StdResponseCode","configs","IMAGE","maxSize","validMimeTypes","VIDEO","Uploader","fileType","maxFiles","server","load","source","myRequest","Request","fetch","then","blob","myBlob","process","headers","onload","raw","JSON","code","SUCCESS","onUploadSuccess","pondRef","dropValidation","instantUpload","acceptedFileTypes","maxFileSize","FdmEditor","editorState","setEditorState","html","blocksFromHTML","convertFromHTML","ContentState","createFromBlockArray","contentBlocks","entityMap","EditorState","createWithContent","createEmpty","editorRef","getHtmlContent","stateToHTML","getCurrentContent","wrapperClassName","editorClassName","onEditorStateChange","ContentEditFormRules","ContentEditForm","formRef","propsContent","callbackRef","videoRef","validate","getFile","startProcess","processFile","onUpLoadSuccessHandler","filePath","getContent","Promise","resolve","reject","video","options","valuePropName","files","CourseEditFormRules","CourseEditForm","propsCourse","isUpdate","setContents","addContent","avatarRef","coverRef","isContentsValid","isContentValid","createCourse","getFieldsValue","uploadResultRef","uploadedFiles","avatar","cover","CloseCircleFilled","splice","PlusCircleOutlined","TeacherAddCoursePage","TeacherDashboardPage","TeacherEditCoursePage","TeacherPage","activeKey","WatchListPage","onlyWatchList","FdmAuthedRoute","Component","roles","rest","render","includes","NotFoundPage","AppRoutes","FdmFooter","year","FdmCategoryMenu","navigate","SubMenu","onTitleClick","child","FdmUserDropdownMenu","PoweroffOutlined","FdmHeader","categoryMenu","userDropdownMenu","activeClassName","overlay","overlayClassName","CaretDownOutlined","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","FilePondPluginMediaPreview","registerPlugin","FilePondPluginFileValidateSize","FilePondPluginFileValidateType","FilePondPluginImagePreview","FilePondPluginImageResize","interceptors","use","Authorization","resp","err","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.833743ca.chunk.js","sourcesContent":["import { useCallback, useEffect, useMemo, useState } from \"react\";\n\nexport function useQuery(fetchData: Function) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState<any>(null);\n  const reFetch = useCallback(async () => {\n    setData(null);\n    setError(null);\n    setLoading(true);\n    \n    if (fetchData) {\n      try {\n        setData(await fetchData());\n      } catch (err) {\n        console.error(err);\n        setError(err);\n      }\n      setLoading(false);\n    }\n  }, [fetchData]);\n\n  useEffect(() => {\n    reFetch();\n  }, [reFetch]);\n\n  return useMemo(\n    () => ({\n      loading,\n      error,\n      data,\n      reFetch\n    }),\n    [loading, error, data, reFetch]\n  );\n}\n","import { CourseTopType } from \"../../modules/course/enums/CourseTopType\";\n\nexport const ApiEndpoint = {\n  auth: {\n    register: '/api/v1/auth/register',\n    login: '/api/v1/auth/login',\n    loginGoogle: '/api/v1/auth/login/google',\n    refreshAccessToken: '/api/v1/auth/refresh-access-token',\n    getProfile: '/api/v1/auth/profile',\n    changePassword: '/api/v1/auth/change-password'\n  },\n  user: {\n    search: '/api/v1/user/search',\n    add: '/api/v1/user/add',\n    checkEmail: '/api/v1/user/check-email',\n    checkUsername: '/api/v1/user/check-username',\n    updateEmail: '/api/v1/user/update-email',\n    updateFirstLastName: '/api/v1/user/update-first-last-name',\n    updateTeacherProfile: '/api/v1/user/update-teacher-profile',\n    updateRole: (id: number) => `/api/v1/user/update-role/${id}`,\n    updateStatus: (id: number) => `/api/v1/user/update-status/${id}`,\n  },\n  category: {\n    all: '/api/v1/category/all',\n    topOfWeeks: '/api/v1/category/top-of-weeks',\n    add: '/api/v1/category/add',\n    udpateStatus: (id: number) => `/api/v1/cateogry/update-status`\n  },\n  course: {\n    search: '/api/v1/course/search',\n    topOfWeeks: '/api/v1/course/top-of-weeks',\n    add: '/api/v1/course',\n    top: (type: CourseTopType) => `/api/v1/course/top/${type}`,\n    getDetail: (id: number) => `/api/v1/course/detail/${id}`,\n    update: (id: number) => `/api/v1/course/${id}`,\n    updateStatus: (id: number) => `/api/v1/course/update-status/${id}`,\n    increaseTotalView: (id: number) => `/api/v1/course/increase-total-view/${id}`\n  },\n  content: {\n    add: '/api/v1/content/add',\n    update: (id: number) => `/api/v1/content/update/${id}`,\n    updateStatus: (id: number) => `/api/v1/content/update-status/${id}`\n  },\n  uploader: {\n    upload: '/api/v1/uploader/upload'\n  },\n  enrollment: {\n    getDetail: (courseId: number) => `/api/v1/enrollment/${courseId}`,\n    enroll: (courseId: number) => `/api/v1/enrollment/enroll/${courseId}`\n  },\n  review: {\n    paginate: (courseId: number) => `/api/v1/review/paginate/${courseId}`,\n    add: (courseId: number) => `/api/v1/review/${courseId}`\n  },\n  studyProcess: {\n    findOne: (courseId: number) => `/api/v1/study-process/find-one/${courseId}`,\n    findByCourseId: (courseId: number) => `/api/v1/study-process/find-by-course-id/${courseId}`,\n    update: (courseId: number) => `/api/v1/study-process/${courseId}`\n  },\n  watchList: {\n    updateStatus: (courseId: number) => `/api/v1/watch-list/update-status/${courseId}`\n  },\n  mailSender: {\n    sendOtpMail: '/api/v1/mail-sender/send-otp-mail'\n  }\n}\n\nexport const AuthedApiEndpoints = [\n  ApiEndpoint.auth.getProfile,\n  ApiEndpoint.auth.refreshAccessToken,\n  ApiEndpoint.auth.changePassword,\n  ApiEndpoint.user.updateEmail,\n  ApiEndpoint.user.updateFirstLastName,\n  ApiEndpoint.user.search,\n  ApiEndpoint.user.updateRole,\n  ApiEndpoint.user.updateStatus,\n  ApiEndpoint.category.add,\n  ApiEndpoint.category.udpateStatus,\n  ApiEndpoint.course.add,\n  ApiEndpoint.course.update,\n  ApiEndpoint.course.updateStatus,\n  ApiEndpoint.course.increaseTotalView,\n  ApiEndpoint.content.update,\n  ApiEndpoint.content.updateStatus,\n  ApiEndpoint.uploader.upload,\n  ApiEndpoint.enrollment.getDetail,\n  ApiEndpoint.enrollment.enroll,\n  ApiEndpoint.review.add,\n  ApiEndpoint.studyProcess.findOne,\n  ApiEndpoint.studyProcess.findByCourseId,\n  ApiEndpoint.studyProcess.update,\n  ApiEndpoint.watchList.updateStatus\n];","import Axios, { AxiosRequestConfig } from \"axios\";\n\nexport class CrudService {\n  static async get(url: string, config?: AxiosRequestConfig) {\n    const { data } = await Axios.get(url, config);\n    return data;\n  }\n\n  static async create(url: string, payload: any, getResult?: Function) {\n    const { data } = await Axios.post(url, payload);\n    return getResult ? getResult(data) : data.result;\n  }\n\n  static async put(url: string, payload: any, method?: any) {\n    const { data } = await (method ? (Axios as any)[method](url, payload) : Axios.put(url, payload));\n    return data.success;\n  }\n\n  static async delete(url: string) {\n    return this.put(url, null, 'delete');\n  }\n\n  static async post(url: string, payload: any) {\n    return this.put(url, payload, 'post');\n  }\n}\n","import { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { IUser } from \"../../shared/entities/IUser\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { IAddUserRequest } from \"./types/AddUserRequest\";\nimport { IPagingResponse } from \"./types/IPagingResponse\";\nimport { IContentSearchRequest } from \"./types/SearchUserRequest\";\n\nexport class UserService {\n  static add(request: IAddUserRequest) {\n    return CrudService.create(ApiEndpoint.user.add, request);\n  }\n\n  static async checkEmail(email: string) {\n    const res = await CrudService.get(ApiEndpoint.user.checkEmail, { params: { email } });\n    return res.exists;\n  }\n\n  static async checkUsername(username: string) {\n    const res = await CrudService.get(ApiEndpoint.user.checkUsername, {\n      params: { username },\n    });\n    return res.exists;\n  }\n\n  static search(request: IContentSearchRequest): Promise<IPagingResponse<IUser>> {\n    return CrudService.get(ApiEndpoint.user.search, {\n      params: request\n    });\n  }\n  \n  static async updateEmail(payload: any) {\n    return CrudService.put(ApiEndpoint.user.updateEmail, payload);\n  }\n\n  static async updateFirstLastName(payload: any) {\n    return CrudService.put(ApiEndpoint.user.updateFirstLastName, payload);\n  }\n\n  static async updateTeacherProfile(payload: any) {\n    return CrudService.put(ApiEndpoint.user.updateTeacherProfile, payload);\n  }\n}\n","import React, {useState, useEffect, useCallback} from 'react';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  TeamOutlined,\n  ReadFilled,\n  UserOutlined\n} from '@ant-design/icons';\nimport { RouteComponentProps, useHistory } from 'react-router';\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { Menu, Button, Table, Tag, Space } from 'antd';\n\nimport { UserService } from '../user/UserService'\nimport { IContentSearchRequest } from '../user/types/SearchUserRequest';\n\nconst { Column, ColumnGroup } = Table;\n \nexport function AdminPage(props: RouteComponentProps) {\n  const history = useHistory();\n  const [collapsed, setCollapsed] = useState(false);\n\n  const req = {\n    page: 1,\n    pageSize: 10,\n  }\n\n  // const value = UserService.search(req);\n  // console.log('showvalue: ', value);\n\n  const userList = useQuery(\n    useCallback(()=> UserService.search(req), [])\n  );\n\n  console.log('showlll: ', userList);\n\n  const data = [\n    {\n      id: 1,\n      username: \"admin\",\n      email: \"admin@gmail.com\",\n      firstName: \"Super\",\n      lastName: \"Admin\",\n      role: 1,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:02.949Z\"\n    },\n    {\n      id: 2,\n      username: \"teacher1\",\n      email: \"teacher1@gmail.com\",\n      firstName: \"I am\",\n      lastName: \"Teacher 1\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:02.977Z\"\n    },\n    {\n      id: 3,\n      username: \"student1\",\n      email: \"student1@gmail.com\",\n      firstName: \"I am\",\n      lastName: \"Student 1\",\n      role: 3,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:02.992Z\"\n    },\n    {\n      id: 4,\n      username: \"Macey1\",\n      email: \"Macey1@gmail.com\",\n      firstName: \"Macey\",\n      lastName: \"Von\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.006Z\"\n    },\n    {\n      id: 5,\n      username: \"Brannon2\",\n      email: \"Brannon2@gmail.com\",\n      firstName: \"Brannon\",\n      lastName: \"Dickinson\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.017Z\"\n    },\n    {\n      id: 6,\n      username: \"Sage3\",\n      email: \"Sage3@gmail.com\",\n      firstName: \"Sage\",\n      lastName: \"Donnelly\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.029Z\"\n    },\n    {\n      id: 7,\n      username: \"Lelia4\",\n      email: \"Lelia4@gmail.com\",\n      firstName: \"Lelia\",\n      lastName: \"Kuphal\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.043Z\"\n    },\n    {\n      id: 8,\n      username: \"Jeanne5\",\n      email: \"Jeanne5@gmail.com\",\n      firstName: \"Jeanne\",\n      lastName: \"Connelly\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.057Z\"\n    },\n    {\n      id: 9,\n      username: \"Brennan6\",\n      email: \"Brennan6@gmail.com\",\n      firstName: \"Brennan\",\n      lastName: \"Anderson\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.073Z\"\n    },\n    {\n      id: 10,\n      username: \"Jaiden7\",\n      email: \"Jaiden7@gmail.com\",\n      firstName: \"Jaiden\",\n      lastName: \"Stehr\",\n      role: 2,\n      status: 1,\n      createdDate: \"2021-03-17T07:50:03.092Z\"\n    }\n  ];\n  \n\n  return (\n    <div className=\"flex space-x-4\">\n      <div className=\"\">\n        <Button type=\"primary\" onClick={()=>setCollapsed(!collapsed)} style={{ marginBottom: 16 }}>\n            {React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined)}\n          </Button>\n          <Menu\n            defaultSelectedKeys={[props.location.pathname]}\n            defaultOpenKeys={['admin/students']}\n            mode=\"inline\"\n            theme=\"dark\"\n            onSelect={e => history.push(e.key as any)}\n            inlineCollapsed={collapsed}\n          >\n            <Menu.Item key=\"/admin/students\" icon={<TeamOutlined />}>\n              Qun l hc vin\n            </Menu.Item>\n            <Menu.Item key=\"/admin/teachers\" icon={<UserOutlined />}>\n              Qun l ging vin\n            </Menu.Item>\n            <Menu.Item key=\"/admin/courses\" icon={<ReadFilled />}>\n              Qun l kha hc\n            </Menu.Item>\n          </Menu>\n        </div>\n      <div className=\"w-11/12\">\n        <Table dataSource={data}>\n          \n          <Column title=\"ID\" dataIndex=\"id\" key=\"id\" />\n          <Column title=\"USER NAME\" dataIndex=\"username\" key=\"username\" />\n          <Column title=\"FIRST NAME\" dataIndex=\"firstName\" key=\"firstName\" />\n          <Column title=\"LAST NAME\" dataIndex=\"lastName\" key=\"lastName\" />\n          <Column title=\"EMAIL\" dataIndex=\"email\" key=\"email\" />\n          <Column title=\"ROLE\" dataIndex=\"role\" key=\"role\" />\n          <Column title=\"STATUS\" dataIndex=\"status\" key=\"status\" />\n          <Column title=\"CREATED DATE\" dataIndex=\"createdDate\" key=\"createdDate\" />\n\n          {/* <Column\n            title=\"Tags\"\n            dataIndex=\"tags\"\n            key=\"tags\"\n            render={tags => (\n              <>\n                {tags.map((tag: any) => (\n                  <Tag color=\"blue\" key={tag}>\n                    {tag}\n                  </Tag>\n                ))}\n              </>\n            )}\n          /> */}\n          {/* <Column\n            title=\"Action\"\n            key=\"action\"\n            render: (_: any, record: Item) => {\n              const editable = isEditing(record);\n              return editable ? (\n                <span>\n                  <a href=\"javascript:;\" onClick={() => save(record.key)} style={{ marginRight: 8 }}>\n                    Save\n                  </a>\n                  <Popconfirm title=\"Sure to cancel?\" onConfirm={cancel}>\n                    <a>Cancel</a>\n                  </Popconfirm>\n                </span>\n              ) : (\n                <Typography.Link disabled={editingKey !== ''} onClick={() => edit(record)}>\n                  Edit\n                </Typography.Link>\n              );\n            }\n          /> */}\n            \n          \n        </Table>\n      </div>\n\n      \n      </div>\n  )\n}","export enum UserRole {\n  ADMIN = 1,\n  TEACHER = 2,\n  NORMAL = 3,\n}","import Axios from \"axios\";\nimport { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { IUser } from \"../../shared/entities/IUser\";\nimport { UserRole } from \"../../shared/enums/UserRole\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { IRegisterRequest } from \"./types/IRegisterRequest\";\nimport qs from 'querystring';\n\ninterface ITokenResponse {\n  accessToken: string;\n  refreshToken: string;\n}\n\nexport class AuthService {\n  public static user: IUser;\n  private static readonly ACCESS_TOKEN_KEY = \"FDM_ACCESS_TOKEN\";\n  private static readonly REFRESH_TOKEN_KEY = \"FDM_REFRESH_TOKEN\";\n\n  static get isAuthed() {\n    const params: any = qs.parse(window.location.search.replace('?', ''));\n    if (!!params.accessToken && !!params.refreshToken) {\n      this.saveTokens(params);\n      window.location.search = '';\n    }\n    return !!this.accessToken;\n  }\n\n  static get accessToken() {\n    return sessionStorage.getItem(this.ACCESS_TOKEN_KEY);\n  }\n\n  static get refreshToken() {\n    return localStorage.getItem(this.REFRESH_TOKEN_KEY);\n  }\n\n  private static saveTokens(response: ITokenResponse) {\n    sessionStorage.setItem(this.ACCESS_TOKEN_KEY, response.accessToken);\n    localStorage.setItem(this.REFRESH_TOKEN_KEY, response.refreshToken);\n    return response;\n  }\n\n  static async login(username: string, password: string) {\n    try {\n      const { data } = await Axios.post(ApiEndpoint.auth.login, {\n        username,\n        password,\n      });\n      return this.saveTokens(data);\n    } catch (err) {\n      console.error(err);\n      return false;\n    }\n  }\n\n  static clearTokens() {\n    sessionStorage.removeItem(this.ACCESS_TOKEN_KEY);\n    localStorage.removeItem(this.REFRESH_TOKEN_KEY);\n  }\n\n  static logout() {\n    this.clearTokens();\n    window.location.pathname = \"/\";\n  }\n\n  static async refreshAccessToken() {\n    if (!this.refreshToken) {\n      return false;\n    }\n\n    try {\n      const { data } = await Axios.post(\n        ApiEndpoint.auth.refreshAccessToken,\n        null,\n        {\n          params: { refreshToken: this.refreshToken },\n        }\n      );\n      return this.saveTokens(data);\n    } catch (err) {\n      if (err?.response?.status === 404) {\n        this.logout();\n      } else {\n        console.error(err);\n      }\n      return false;\n    }\n  }\n\n  static async getUser() {\n    if (this.isAuthed) {\n      if (!this.user) {\n        this.user = await this.getProfile();\n      }\n      return this.user;\n    }\n    return null;\n  }\n\n  private static async getProfile() {\n    try {\n      const result = await Axios.get(ApiEndpoint.auth.getProfile);\n      return result.data;\n    } catch (err) {\n      console.error(err);\n      return null;\n    }\n  }\n\n  static changePassword(oldPassword: string, newPassword: string) {\n    return CrudService.put(ApiEndpoint.auth.changePassword, {\n      oldPassword,\n      newPassword,\n    });\n  }\n\n  static get isAdmin() {\n    return this.user.role === UserRole.ADMIN;\n  }\n\n  static register(user: IRegisterRequest) {\n    return CrudService.create(ApiEndpoint.auth.register, user);\n  }\n}\n","import { Rule } from \"rc-field-form/lib/interface\";\ninterface IUserFormRules {\n  [key: string]: Rule[]\n}\n\nexport const UserFormRules: IUserFormRules = {\n  email: [\n    { required: true, message: 'E-mail is required' },\n    { type: 'email', message: 'E-mail is invalid' }\n  ],\n  username: [\n    { required: true, message: 'Username is required' },\n    { min: 4, message: 'Username is too short' },\n    { max: 255, message: 'Username is too long' }\n  ],\n  password: [\n    { required: true, message: 'Password is required' },\n    { min: 8, message: 'Password is too short' },\n    { max: 255, message: 'Password is too long' }\n  ],\n  confirmPassword: [\n    { required: true, message: 'Confirm password is required' },\n    ({ getFieldValue }) => ({\n      async validator(_, value) {\n        if (!value || getFieldValue('password') === value) {\n          return true;\n        }\n        throw new Error('Confirm password is not match');\n      },\n    })\n  ],\n  firstName: [\n    { required: true, message: 'First name is required' },\n    { min: 2, message: 'First name is too short' },\n    { max: 255, message: 'First name is too long' }\n  ],\n  lastName: [\n    { required: true, message: 'Last name is required' },\n    { min: 2, message: 'Last name is too short' },\n    { max: 255, message: 'Last name is too long' }\n  ],\n  bio: [\n    { min: 2, message: 'Bio is too short' },\n    { max: 255, message: 'Bio is too long' }\n  ],\n  introduction: [\n    { min: 2, message: 'Introduction is too short' }\n  ]\n}","export const HOST = process.env.NODE_ENV === 'development' ? 'http://localhost:3105' : '';\nexport const ASSETS_URL = HOST + '/assets';","import { GoogleCircleFilled } from \"@ant-design/icons\";\nimport { Button, Form, Input, notification } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport React, { useCallback } from \"react\";\nimport { UserFormRules } from \"../user/UserFormRules\";\nimport { AuthService } from \"./AuthService\";\nimport { HOST } from \"../../shared/constants/constants\";\nimport { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\ninterface ILoginFormProps {\n  redirect?: string;\n}\n\nexport function LoginForm(props: ILoginFormProps) {\n  const [form] = useForm();\n  const submit = useCallback(\n    async (values: any) => {\n      const success = await AuthService.login(values.username, values.password);\n      if (success) {\n        window.location.pathname = props.redirect || \"/\";\n      } else {\n        notification.error({\n          message: \"Error\",\n          description: \"Username or password are wrong\"\n        })\n      }\n    },\n    [props.redirect]\n  );\n  return (\n    <Form form={form} onFinish={submit}>\n      <label className=\"block mb-2\">\n        Username <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"username\" rules={UserFormRules.username}>\n        <Input placeholder=\"Username...\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Password <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"password\" rules={UserFormRules.password}>\n        <Input placeholder=\"Password...\" type=\"password\" />\n      </Form.Item>\n      <Form.Item>\n        <Button\n          type=\"primary\"\n          shape=\"round\"\n          className=\"w-full mb-4\"\n          htmlType=\"submit\"\n        >\n          Login\n        </Button>\n        <Button\n          type=\"primary\"\n          shape=\"round\"\n          className=\"w-full\"\n          danger\n          onClick={() =>\n            (window.location.replace(HOST + ApiEndpoint.auth.loginGoogle))\n          }\n        >\n          <GoogleCircleFilled\n            className=\"text-xl\"\n            style={{ transform: \"translateY(-2px)\" }}\n          />{\" \"}\n          Sign-in with Google\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import { notification } from \"antd\";\n\nexport class NotificationUtils {\n  static error(message: string) {\n    notification.error({\n      message: 'C li xy ra',\n      description: <>Thng tin li: <b>{message}</b></>,\n      style: {\n        zIndex: 10\n      }\n    })\n  }\n}","import { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { CrudService } from \"../../shared/services/CrudService\";\n\nexport class MailSenderService {\n  static sendOtp(name: string, email: string) {\n    return CrudService.post(ApiEndpoint.mailSender.sendOtpMail, {\n      name, email\n    });\n  }\n}","import { Button, ButtonProps, notification } from \"antd\";\nimport { memo, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { MailSenderService } from \"../mail-sender/MailSenderService\";\nimport { IAddUserRequest } from \"../user/types/AddUserRequest\";\n\nconst sendOtpWaitTimes = [0, 30, 300, 600, 1800];\n\nexport function useOtpSender() {\n  const [sendOtpCount, setSendOtpCount] = useState(0);\n  const [sendOtpWaitTime, setSendOtpWaitTime] = useState(0);\n  const intervalRef = useRef<any>();\n\n  const sendOtp = useCallback(\n    async (user: IAddUserRequest) => {\n      try {\n        await MailSenderService.sendOtp(user.firstName, user.email);\n        setSendOtpCount(sendOtpCount + 1);\n        notification.success({\n          message: \"Success\",\n          description: (\n            <>\n              An e-mail with OTP is sent for <b>{user.email}</b>, please check\n              it\n            </>\n          ),\n        });\n      } catch (err) {\n        console.error(err);\n        NotificationUtils.error(err.message);\n      }\n    },\n    [sendOtpCount]\n  );\n\n  const removeInterval = useCallback(() => {\n    if (!!intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  }, []);\n\n  useEffect(() => {\n    removeInterval();\n\n    let totalWaitTime =\n      sendOtpWaitTimes[Math.min(sendOtpCount, sendOtpWaitTimes.length - 1)];\n    setSendOtpWaitTime(totalWaitTime);\n    intervalRef.current = setInterval(() => {\n      if (--totalWaitTime === 0) {\n        removeInterval();\n      }\n      setSendOtpWaitTime(totalWaitTime);\n    }, 1000);\n\n    return removeInterval;\n  }, [sendOtpCount, removeInterval]);\n\n  const SendOtpButton = memo((props: ButtonProps) => (\n      <Button\n        type=\"primary\"\n        shape=\"round\"\n        loading={sendOtpWaitTime > 0}\n        {...props}\n      >\n        {sendOtpWaitTime > 0\n          ? `Please wait for ${sendOtpWaitTime} (s)...`\n          : \"Re-send OTP\"}\n      </Button>\n  ));\n\n  return useMemo(\n    () => ({\n      sendOtp,\n      removeInterval,\n      SendOtpButton,\n    }),\n    [SendOtpButton, removeInterval, sendOtp]\n  );\n}\n","import { Tabs } from \"antd\";\nimport React, { useMemo } from \"react\";\nimport { Redirect, Route, RouteComponentProps, Switch, useHistory } from \"react-router\";\nimport { AuthService } from \"./AuthService\";\nimport { LoginForm } from \"./LoginForm\";\nimport { RegisterForm } from \"./RegisterForm\";\n\nenum AuthTabs {\n  LOGIN = \"/auth/login\",\n  REGISTER = \"/auth/register\",\n}\n\nexport function AuthPage(props: RouteComponentProps) {\n  const { location } = props;\n  const history = useHistory();\n  const redirect = useMemo(() => {\n    if (!!location.state && typeof location.state === \"object\") {\n      return (location.state as any)?.redirect || '/';\n    }\n  }, [location]);\n\n  if (AuthService.isAuthed) {\n    history.push(redirect);\n  }\n\n  return (\n    <>\n      <div className=\"flex justify-center items-center\">\n        <div className=\"px-10 py-5 rounded-lg shadow\" style={{ width: \"400px\" }}>\n          <Tabs\n            defaultActiveKey={location.pathname}\n            onChange={(pathname) => history.push({ pathname, state: { redirect } })}\n          >\n            <Tabs.TabPane tab=\"Login\" key={AuthTabs.LOGIN} />\n            <Tabs.TabPane tab=\"Register\" key={AuthTabs.REGISTER} />\n          </Tabs>\n          <Switch>\n            <Redirect exact from=\"/auth\" to=\"/auth/login\" />\n            <Route path=\"/auth/login\" component={LoginForm} />\n            <Route path=\"/auth/register\" component={RegisterForm} />\n          </Switch>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { Rule } from \"rc-field-form/lib/interface\";\nimport { UserFormRules } from \"../user/UserFormRules\";\nimport { UserService } from \"../user/UserService\";\n\ninterface IRegisterFormRules {\n  [key: string]: Rule[]\n}\n\nexport const RegisterFormRules: IRegisterFormRules = {\n  ...UserFormRules,\n  email: [\n    ...UserFormRules.email,\n    {\n      async validator(_, email) {\n        const exists = await UserService.checkEmail(email);\n        if (exists) {\n          throw new Error('E-mail is existed, please use another');\n        }\n      },\n      validateTrigger: 'submit'\n    }\n  ],\n  username: [\n    ...UserFormRules.username,\n    {\n      async validator(_, username) {\n        const exists = await UserService.checkUsername(username);\n        if (exists) {\n          throw new Error('Username is existed, please use another')\n        }\n      },\n      validateTrigger: 'submit'\n    }\n  ],\n  otp: [\n    { required: true, message: 'OTP is required' }\n  ]\n}","import { Button, Form, Input, notification } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport React, { useCallback, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { useOtpSender } from \"../otp/useOtpSender\";\nimport { IAddUserRequest } from \"../user/types/AddUserRequest\";\nimport { UserFormRules } from \"../user/UserFormRules\";\nimport { AuthService } from \"./AuthService\";\nimport { RegisterFormRules } from \"./RegisterFormRules\";\n\nexport function RegisterForm() {\n  const [form] = useForm();\n  const [user, setUser] = useState<IAddUserRequest | null>(null);\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [registerLoading, setRegisterLoading] = useState(false);\n  const history = useHistory();\n  const otpSender = useOtpSender();\n\n  const { sendOtp } = otpSender;\n  const submit = useCallback(\n    async (user: IAddUserRequest) => {\n      setSubmitLoading(true);\n      await sendOtp(user);\n      setSubmitLoading(false);\n      setUser(user);\n    },\n    [sendOtp]\n  );\n\n  const register = useCallback(async () => {\n    try {\n      let request;\n      try {\n        request = await form.validateFields();\n      } catch {\n        return;\n      }\n\n      setRegisterLoading(true);\n      await AuthService.register(request);\n      setRegisterLoading(false);\n\n      notification.success({\n        message: \"Success\",\n        description: \"Register success, try to login your account\",\n      });\n      history.push(\"/auth/login\");\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n  }, [history, form]);\n\n  const { SendOtpButton } = otpSender;\n  return (\n    <Form form={form} onFinish={submit}>\n      <label className=\"block mb-2\">\n        E-mail <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"email\" rules={RegisterFormRules.email}>\n        <Input placeholder=\"E-mail...\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Username <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"username\" rules={RegisterFormRules.username}>\n        <Input placeholder=\"Username...\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Password <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"password\" rules={UserFormRules.password}>\n        <Input placeholder=\"Password...\" type=\"password\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Confirm password <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"confirmPassword\" rules={UserFormRules.confirmPassword}>\n        <Input placeholder=\"Confirm password...\" type=\"password\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        First name <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"firstName\" rules={UserFormRules.firstName}>\n        <Input placeholder=\"First name...\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Last name <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"lastName\" rules={UserFormRules.lastName}>\n        <Input placeholder=\"Last name...\" />\n      </Form.Item>\n      {!user && (\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            className=\"w-full\"\n            htmlType=\"submit\"\n            loading={submitLoading}\n          >\n            Submit\n          </Button>\n        </Form.Item>\n      )}\n      {!!user && (\n        <>\n          <label className=\"block mb-2\">\n            OTP <b className=\"text-red-400\">*</b>\n          </label>\n          <Form.Item name=\"otp\" rules={RegisterFormRules.otp}>\n            <Input placeholder=\"OTP...\" />\n          </Form.Item>\n          <Form.Item>\n            <SendOtpButton\n              className=\"w-full mb-4\"\n              onClick={() => otpSender.sendOtp(user)}\n            />\n            <Button\n              type=\"primary\"\n              shape=\"round\"\n              className=\"w-full\"\n              onClick={() => register()}\n              loading={registerLoading}\n            >\n              Register\n            </Button>\n          </Form.Item>\n        </>\n      )}\n    </Form>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/fdm-white.28c91e10.svg\";","import React from \"react\";\n\nimport fdmLogo from \"../../images/logo/fdm-white.svg\";\n\nexport function FdmLogo({\n  className,\n  ...props\n}: React.DetailedHTMLProps<\n  React.HTMLAttributes<HTMLDivElement>,\n  HTMLDivElement\n>) {\n  return (\n    <div\n      className={\"w-10 h-10 bg-blue-400 p-2 rounded \" + (className || \"\")}\n      {...props}\n    >\n      <img src={fdmLogo} alt=\"Fademy logo\" />\n    </div>\n  );\n}\n","import React from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { FdmLogo } from './FdmLogo';\n\nexport function FdmLoading() {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-5\">\n      <div className=\"relative text-blue-400 flex items-center justify-center\">\n        <FdmLogo className=\"absolute\" style={{ transform: 'scale(0.6)' }} />\n        <LoadingOutlined className=\"text-6xl text-blue-400 border-blue-400\" />\n      </div>\n      <div className=\"text-blue-400\">Loading, please wait...</div>\n    </div>\n  )\n}","export enum EntityStatus {\n  ACTIVE = 1,\n  DISABLED = 2,\n}\n","import { Image } from \"antd\";\nimport { ImageProps } from \"antd/lib/image\";\nimport React from \"react\";\n\nexport function FdmImage(props: ImageProps) {\n  return (\n    <Image\n      {...props}\n      preview={false}\n      fallback=\"data:image/png;base64,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\"\n    />\n  );\n}\n","import { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { CrudService } from \"../../shared/services/CrudService\";\n\nexport class EnrollmentService {\n  static getDetail(courseId: number) {\n    return CrudService.get(ApiEndpoint.enrollment.getDetail(courseId));\n  }\n\n  static enroll(courseId: number) {\n    return CrudService.create(ApiEndpoint.enrollment.enroll(courseId), null);\n  }\n}","import { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { IPagingRequest } from \"../../types/IPagingRequest\";\nimport { ReviewRequest } from \"./types/ReviewRequest\";\n\nexport class ReviewService {\n  static paginate(courseId: number, request: IPagingRequest) {\n    return CrudService.get(ApiEndpoint.review.paginate(courseId), {\n      params: request\n    });\n  }\n\n  static review(courseId: number, review: ReviewRequest) {\n    return CrudService.create(ApiEndpoint.review.add(courseId), review);\n  }\n}","import { Pagination, Rate } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { IReview } from \"../../shared/entities/IReview\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { ReviewService } from \"./ReviewService\";\n\ninterface IReviewListProps {\n  courseId: number;\n}\n\nconst PAGE_SIZE = 10;\n\nexport function ReviewList(props: IReviewListProps) {\n  const { courseId } = props;\n  const [page, setPage] = useState(1);\n  const fetchReviews = useCallback(() => {\n    return ReviewService.paginate(courseId, {\n      page,\n      pageSize: PAGE_SIZE,\n    });\n  }, [page, courseId]);\n  const reviewsResponse = useQuery(fetchReviews);\n  return (\n    <div>\n      <div>\n        {!reviewsResponse.data ? (\n          <div className=\"flex justify-center items-center\">\n            <FdmLoading />\n          </div>\n        ) : (\n          <>\n            <div className=\"mb-2\">Total: {reviewsResponse.data.total} reviews</div>\n            <div className=\"flex flex-wrap\">\n              {reviewsResponse.data.items.map((rv: IReview) => (\n                <div className=\"rounded-lg border py-3 px-5 mb-2 w-1/2\">\n                  <p className=\"mb-0\"><b>{rv.user.firstName} {rv.user.lastName} ({rv.user.username})</b></p>\n                  <p className=\"flex mb-2 items-center\">\n                    <Rate disabled value={rv.star} />{\" \"}\n                    <i className=\"ml-4 inline-block mt-1\">{moment(rv.createdDate).format('DD/MM/YYYY HH:mm')}</i>\n                  </p>\n                  <p className=\"mb-0\">{rv.feedback}</p>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n      <div className=\"flex justify-center mt-4\">\n        <Pagination\n          current={page}\n          pageSize={PAGE_SIZE}\n          total={reviewsResponse.data?.total || 0}\n          onChange={(page) => setPage(page)}\n        />\n      </div>\n    </div>\n  );\n}\n","import { notification } from 'antd';\nimport { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { NotificationUtils } from '../../shared/utils/NotificationUtils';\n\nexport class WatchListService {\n  static updateStatus(courseId: number, status: EntityStatus) {\n    return CrudService.put(ApiEndpoint.watchList.updateStatus(courseId), { status });\n  }\n\n  static async updateStatusWithNotify(courseId: number, status: EntityStatus) {\n    try {\n      const success = await this.updateStatus(courseId, status);\n      const state = status === EntityStatus.ACTIVE ? \"Love\" : \"Un-love\";\n      if (success) {\n        notification.success({\n          message: \"Success\",\n          description: `${state} course success`,\n          style: {\n            zIndex: 10\n          }\n        });\n      } else {\n        notification.error({\n          message: \"Error\",\n          description: `${state} failed, please try again`,\n          style: {\n            zIndex: 10\n          }\n        });\n      }\n      return success;\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n      return false;\n    }\n  }\n}","import { Rule } from \"rc-field-form/lib/interface\";\n\ninterface ICourseReviewFormRules {\n  [key: string]: Rule[]\n}\n\nexport const CourseReviewFormRules: ICourseReviewFormRules = {\n  feedback: [\n    { required: true, message: 'Feedback is required' },\n    { max: 1000, message: 'Feedback is too long' }\n  ],\n  star: [\n    { required: true, message: 'Star is required' },\n    { type: 'number', min: 0, max: 5, message: 'Star is invalid' }\n  ]\n}","import { Button, Form, Input, notification, Rate } from \"antd\";\nimport React, { useCallback, useState } from \"react\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { ReviewService } from \"../review/ReviewService\";\nimport { CourseReviewFormRules } from \"./CourseReviewFormRules\";\n\ninterface ICourseReviewFormProps {\n  courseId: number;\n  onReviewSuccess: Function;\n}\n\nconst starText = [\n  \"Add your rate\",\n  \"Hate\",\n  \"Don't like\",\n  \"Ok\",\n  \"Like\",\n  \"Great like\",\n];\n\nexport function CourseReviewForm(props: ICourseReviewFormProps) {\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [hoverStar, setHoverStar] = useState(0);\n  const [star, setStar] = useState(0);\n  const [form] = Form.useForm();\n\n  const { courseId, onReviewSuccess } = props;\n  const submit = useCallback(\n    async (values: any) => {\n      setSubmitLoading(true);\n      try {\n        await ReviewService.review(courseId, values);\n        form.resetFields();\n        setHoverStar(0);\n        setStar(0);\n        notification.success({\n          message: \"Success\",\n          description: \"Thank you for your feedback\",\n        });\n        onReviewSuccess();\n      } catch (err) {\n        console.error(err);\n        NotificationUtils.error(err.message);\n      }\n      setSubmitLoading(false);\n    },\n    [courseId, onReviewSuccess, form]\n  );\n\n  return (\n    <Form form={form} onFinish={submit}>\n      <Form.Item\n        name=\"feedback\"\n        style={{ marginBottom: \".5rem\" }}\n        rules={CourseReviewFormRules.feedback}\n      >\n        <Input.TextArea\n          placeholder=\"Add your feedback...\"\n          rows={4}\n          maxLength={1000}\n          showCount\n        />\n      </Form.Item>\n      <div className=\"relative flex items-center\">\n        <Form.Item\n          name=\"star\"\n          style={{ marginBottom: \".5rem\" }}\n          rules={CourseReviewFormRules.star}\n        >\n          <Rate onHoverChange={setHoverStar} onChange={setStar} />\n        </Form.Item>\n        <span\n          className=\"text-red-400 absolute\"\n          style={{ left: \"145px\", top: \"7px\" }}\n        >\n          {starText[hoverStar || star] || \"Add your rate\"}\n        </span>\n      </div>\n      <Form.Item>\n        <Button\n          loading={submitLoading}\n          type=\"primary\"\n          shape=\"round\"\n          htmlType=\"submit\"\n        >\n          Submit feedback\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import moment from \"moment\";\n\nexport class FormatUtils {\n  static formatCurrency(val: any) {\n    return (\"\" + val).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  static parseCurrency(val: any) {\n    return (\"\" + val).replace(/\\$\\s?|(,*)/g, \"\");\n  }\n  static formatSeconds(seconds: number) {\n    let pattern = \"mm:ss\";\n    if (seconds >= 3600) {\n      pattern = \"HH:\" + pattern;\n    }\n    return moment(\"2015-01-01\")\n      .startOf(\"day\")\n      .seconds(seconds)\n      .format(pattern);\n  }\n}\n","import { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { CrudService } from \"../../shared/services/CrudService\";\n\nexport class StudyProcessService {\n  static findOne(courseId: number, contentId: number) {\n    return CrudService.get(ApiEndpoint.studyProcess.findOne(courseId), {\n      params: { contentId },\n    });\n  }\n\n  static findByCourseId(courseId: number) {\n    return CrudService.get(ApiEndpoint.studyProcess.findByCourseId(courseId));\n  }\n\n  static update(courseId: number, contentId: number, duration: number) {\n    return CrudService.put(ApiEndpoint.studyProcess.update(courseId), {\n      contentId,\n      duration,\n    });\n  }\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { IContent } from \"../../shared/entities/IContent\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\nimport { Divider } from \"antd\";\nimport { StudyProcessService } from \"../study-process/StudyProcessService\";\nimport { IStudyProcess } from \"../../shared/entities/IStudyProcess\";\nconst { Player } = require(\"video-react\");\n\ninterface IContentDetailProps {\n  courseId: number;\n  content: IContent;\n  studyProcess: IStudyProcess\n}\n\nexport function ContentDetail(props: IContentDetailProps) {\n  const { studyProcess } = props;\n  const [play, setPlay] = useState(false);\n  const playerRef = useRef<any>();\n  const lastStateRef = useRef<any>();\n  const contentId = props.content.id;\n  const courseId = props.courseId;\n\n  useEffect(() => {\n    let unsubscribe: any;\n    if (play) {\n      console.log(playerRef);\n      unsubscribe = playerRef.current.subscribeToStateChange((state: any) => {\n        lastStateRef.current = state;\n        if (state.ended && !(studyProcess && studyProcess.done)) {\n          StudyProcessService.update(\n            courseId,\n            contentId,\n            Math.floor(state.duration)\n          );\n        }\n      });\n    }\n    return () => {\n      if (play) {\n        if (lastStateRef.current && lastStateRef.current.currentTime > 0) {\n          StudyProcessService.update(\n            courseId,\n            contentId,\n            Math.floor(lastStateRef.current.currentTime)\n          );\n        }\n        unsubscribe();\n      }\n    };\n  }, [play, courseId, contentId, studyProcess]);\n\n  return (\n    <div>\n      <div\n        dangerouslySetInnerHTML={{ __html: props.content.description }}\n      ></div>\n      <Divider />\n      {play ? (\n        <Player\n          autoPlay\n          startTime={studyProcess?.duration || 0}\n          ref={(ref: any) => (playerRef.current = ref)}\n          src={`${ASSETS_URL}/${props.content.videoPath}`}\n        />\n      ) : (\n        <div className=\"mt-2\">\n          <span\n            className=\"cursor-pointer text-blue-400 hover:underline\"\n            onClick={() => setPlay(true)}\n          >\n            &bull; View content video\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { CheckCircleOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { Collapse } from \"antd\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { IContent } from \"../../shared/entities/IContent\";\nimport { IStudyProcess } from \"../../shared/entities/IStudyProcess\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { FormatUtils } from \"../../shared/utils/FormatUtils\";\nimport { StudyProcessService } from \"../study-process/StudyProcessService\";\nimport { ContentDetail } from \"./ContentDetail\";\n\ninterface IContentListProps {\n  courseId: number;\n  contents: IContent[];\n  isEnrolled?: boolean;\n}\n\nexport function ContentList(props: IContentListProps) {\n  const { contents, courseId } = props;\n  const fetchStudyProcesses = useCallback(() => {\n    return StudyProcessService.findByCourseId(courseId);\n  }, [courseId]);\n\n  const studyProcessResponse = useQuery(fetchStudyProcesses);\n  const studyProcessMap = useMemo(() => {\n    if (studyProcessResponse.data) {\n      return studyProcessResponse.data.reduce((map: any, sp: IStudyProcess) => {\n        map[sp.contentId] = sp;\n        return map;\n      }, {});\n    }\n    return {};\n  }, [studyProcessResponse.data]);\n\n  return (\n    <Collapse>\n      {contents\n        .sort((a, b) => a.order - b.order)\n        .map((content) => {\n          const studyProcess = studyProcessMap[content.id];\n          const isDone = !!studyProcess?.done;\n          const isBlock = !content.preview && !props.isEnrolled;\n          return (\n            <Collapse.Panel\n              className={isDone ? \"bg-green-300\" : \"\"}\n              collapsible={isBlock ? \"disabled\" : \"header\"}\n              header={\n                <div className=\"flex items-center\">\n                  <div>\n                    [{FormatUtils.formatSeconds(studyProcess?.duration || 0)} /{\" \"}\n                    {FormatUtils.formatSeconds(content.duration)}]{\" \"}\n                    {content.title}\n                  </div>\n                  {isBlock && (\n                    <div className=\"ml-auto\">\n                      <LockOutlined />\n                    </div>\n                  )}\n                  {isDone && (\n                    <div className=\"ml-auto\">\n                      <CheckCircleOutlined />\n                    </div>\n                  )}\n                </div>\n              }\n              key={content.id}\n            >\n              <ContentDetail\n                studyProcess={studyProcess}\n                courseId={props.courseId}\n                content={content}\n              />\n            </Collapse.Panel>\n          );\n        })}\n    </Collapse>\n  );\n}\n","import {\n  BookOutlined,\n  ClockCircleOutlined,\n  HeartOutlined,\n  MobileOutlined,\n  SnippetsOutlined,\n} from \"@ant-design/icons\";\nimport { Button, Divider, notification, Popconfirm, Rate, Tag } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { FdmImage } from \"../../shared/components/FdmImage\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\nimport { ICourse } from \"../../shared/entities/ICourse\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { AuthService } from \"../auth/AuthService\";\nimport { EnrollmentService } from \"../enrollment/EnrollmentService\";\nimport { ReviewList } from \"../review/ReviewList\";\nimport { WatchListService } from \"../watch-list/WatchListService\";\nimport { CourseReviewForm } from \"./CourseReviewForm\";\nimport { FormatUtils } from \"../../shared/utils/FormatUtils\";\nimport { ContentList } from \"../content/ContentList\";\n\ninterface ICourseDetailProps {\n  course: ICourse;\n  onRefreshNeeded: Function;\n}\n\nexport function CourseDetail(props: ICourseDetailProps) {\n  const history = useHistory();\n  const [enrollLoading, setEnrollLoading] = useState(false);\n  const [watchListLoading, setWatchListLoading] = useState(false);\n  const [isWatchList, setIsWatchList] = useState(props.course.isWatchList);\n  const updateWatchList = useCallback(async () => {\n    if (!AuthService.isAuthed) {\n      return history.push(\"/auth/login\");\n    }\n    setWatchListLoading(true);\n    const success = await WatchListService.updateStatusWithNotify(\n      props.course.id,\n      props.course.isWatchList ? EntityStatus.DISABLED : EntityStatus.ACTIVE\n    );\n    if (success) {\n      setIsWatchList(!props.course.isWatchList);\n    }\n    setWatchListLoading(false);\n  }, [history, props.course]);\n\n  const { onRefreshNeeded } = props;\n  const enroll = useCallback(async () => {\n    if (!AuthService.isAuthed) {\n      return history.push(\"/auth/login\");\n    }\n\n    setEnrollLoading(true);\n    try {\n      await EnrollmentService.enroll(props.course.id);\n      notification.success({\n        message: \"Success\",\n        description: \"Enroll success, hope that you will have valuable lessons\",\n        style: {\n          zIndex: 10,\n        },\n      });\n      onRefreshNeeded();\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n    setEnrollLoading(false);\n  }, [history, props.course, onRefreshNeeded]);\n\n  const fetchEnrollmentDetail = useCallback(() => {\n    if (AuthService.isAuthed) {\n      return EnrollmentService.getDetail(props.course.id);\n    }\n    return null;\n  }, [props.course.id]);\n  const enrollmentDetailResponse = useQuery(fetchEnrollmentDetail);\n  const isEnrolled = AuthService.isAuthed && !!enrollmentDetailResponse.data;\n  return (\n    <div className=\"flex\">\n      <div\n        className=\"absolute bg-gray-900 w-full left-0\"\n        style={{\n          zIndex: 1,\n          height: \"400px\",\n          marginTop: \"-2rem\",\n          backgroundImage: `url(${ASSETS_URL}/${props.course.coverPath})`,\n          backgroundPosition: \"center\",\n          backgroundRepeat: \"no-repeat\",\n          backgroundSize: \"cover\",\n        }}\n      ></div>\n      <div className=\"absolute bg-gray-900 w-full left-0\" style={{ zIndex: 2, height: \"400px\", marginTop: '-2rem', opacity: 0.75 }}></div>\n      <div className=\"w-3/4 pr-4\" style={{ zIndex: 2 }}>\n        <p className=\"text-white\">\n          <Link\n            to={`/courses/${props.course.category.parent.id}`}\n            className=\"text-blue-400 \"\n          >\n            {props.course.category.parent.name}\n          </Link>{\" \"}\n          &gt;{\" \"}\n          <Link\n            to={`/courses/${props.course.category.id}`}\n            className=\"text-blue-400\"\n          >\n            {props.course.category.name}\n          </Link>\n        </p>\n        <h1 className=\"text-3xl text-white\">\n          <b>{props.course.title}</b>\n        </h1>\n        <h3 className=\"text-lg text-white\">{props.course.subDescription}</h3>\n        <p className=\"mb-2 text-white\">\n          <span className=\"text-yellow-300 mr-1\">{props.course.avgStar}</span>{\" \"}\n          <Rate disabled value={props.course.avgStar} /> (\n          {props.course.totalReview})\n        </p>\n        <div className=\"mt-1 mb-4\">\n          {props.course.totalEnrollment >= 400 && (\n            <Tag color=\"gold\">Best seller</Tag>\n          )}\n          {moment().diff(moment(props.course.createdDate), \"day\") <= 7 && (\n            <Tag color=\"green\">New</Tag>\n          )}\n        </div>\n        <p className=\"mb-2 text-white\">\n          Created by{\" \"}\n          <i className=\"text-blue-400\">\n            {props.course.creator.firstName} {props.course.creator.lastName}\n          </i>\n        </p>\n        <p className=\"text-white\">\n          Last updated:{\" \"}\n          <i className=\"text-blue-400\">\n            {moment(props.course.updatedDate).format(\"DD/MM/YYYY HH:mm\")}\n          </i>\n        </p>\n        <div>\n          <Button\n            loading={watchListLoading}\n            type={isWatchList ? 'default' : 'primary'}\n            danger\n            shape=\"round\"\n            onClick={updateWatchList}\n          >\n            <div className=\"flex items-center\">\n              {isWatchList ? \"Remove\" : \"Add\"} watch list{\" \"}\n              <HeartOutlined className=\"ml-2\" />\n            </div>\n          </Button>\n        </div>\n        <div className=\"mt-24\">\n          <h3 className=\"text-xl\">\n            <b>Description</b>\n          </h3>\n          <div\n            dangerouslySetInnerHTML={{ __html: props.course.description }}\n          ></div>\n          <h3 className=\"mt-8 text-xl\">\n            <b>Course contents</b>\n          </h3>\n          {Array.isArray(props.course.contents) && props.course.contents.length > 0 && (\n            <ContentList courseId={props.course.id} contents={props.course.contents} isEnrolled={isEnrolled} />\n          )}\n          <h3 className=\"mt-8 text-xl\">\n            <b>About the creator</b>\n          </h3>\n          <div\n            className=\"border py-2 px-6 rounded-lg\"\n            style={{\n              borderLeftColor: \"rgb(96, 165, 250)\",\n              borderLeftWidth: \".2rem\",\n            }}\n          >\n            <h4 className=\"text-red-500 text-xl mb-1\">\n              {props.course.creator?.firstName} {props.course.creator?.lastName}\n            </h4>\n            <p className=\"text-gray-500\">{props.course.creator.bio}</p>\n            <p className=\"mb-0\">{props.course.creator.introduction}</p>\n          </div>\n          <h3 className=\"mt-8 text-xl mb-4\">\n            <b>Student feedbacks</b>\n          </h3>\n          {isEnrolled && (\n            <CourseReviewForm\n              courseId={props.course.id}\n              onReviewSuccess={props.onRefreshNeeded}\n            />\n          )}\n          <ReviewList courseId={props.course.id} />\n        </div>\n      </div>\n      <div className=\"w-1/4 relative\" style={{ zIndex: 2 }}>\n        <div className=\"p-5 border rounded-lg w-full bg-white\">\n          <div className=\"flex justify-center mb-5\">\n            <FdmImage\n              alt={props.course.title}\n              className=\"w-full rounded-lg\"\n              src={`${ASSETS_URL}/${props.course.avatarPath}`}\n            />\n          </div>\n          {!isEnrolled && (\n            <>\n              <h1 className=\"mb-2\">\n                <b className=\"text-red-400 text-xl\">\n                  ${\" \"}\n                  {Math.round(\n                    (props.course.price - props.course.discount) * 100\n                  ) / 100}\n                </b>{\" \"}\n                <span className=\"line-through ml-1 text-gray-400\">\n                  {props.course.discount ? `(${props.course.price})` : \"\"}\n                </span>\n              </h1>\n              <Popconfirm\n                placement=\"top\"\n                title=\"Are you sure to enroll this course?\"\n                onConfirm={enroll}\n              >\n                <Button\n                  size=\"large\"\n                  danger\n                  className=\"w-full\"\n                  type=\"primary\"\n                  loading={enrollLoading}\n                >\n                  Enroll now\n                </Button>\n              </Popconfirm>\n            </>\n          )}\n          <Divider />\n          <div>\n            <h3 className=\"mb-4\">\n              <b>This course includes:</b>\n            </h3>\n            <p className=\"flex items-center\">\n              <SnippetsOutlined className=\"mr-2\" />{\" \"}\n              {props.course.contents?.length || 0} articles\n            </p>\n            <p className=\"flex items-center\">\n              <BookOutlined className=\"mr-2\" />{\" \"}\n              {FormatUtils.formatSeconds(\n                props.course.contents?.reduce(\n                  (total, curr) => total + curr.duration,\n                  0\n                )\n              )}{\" \"}\n              video time\n            </p>\n            <p className=\"flex items-center\">\n              <ClockCircleOutlined className=\"mr-2\" /> Full lifetime access\n            </p>\n            <p className=\"flex items-center\">\n              <MobileOutlined className=\"mr-2\" /> Access on mobile and TV\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { ICourse } from \"../../shared/entities/ICourse\";\nimport { CrudService } from \"../../shared/services/CrudService\";\nimport { IPagingResponse } from \"../../types/IPagingResponse\";\nimport { CourseTopType } from \"./enums/CourseTopType\";\nimport { ICourseSearchRequest } from \"./types/CourseSearchRequest\";\n\nexport class CourseService {\n  static search(request: ICourseSearchRequest): Promise<IPagingResponse<ICourse>> {\n    return CrudService.get(ApiEndpoint.course.search, {\n      params: request\n    });\n  }\n\n  static topOfWeeks() {\n    return CrudService.get(ApiEndpoint.course.topOfWeeks);\n  }\n\n  static top(type: CourseTopType) {\n    return CrudService.get(ApiEndpoint.course.top(type));\n  }\n\n  static add(course: ICourse) {\n    return CrudService.create(ApiEndpoint.course.add, course);\n  }\n\n  static update(course: ICourse) {\n    return CrudService.put(ApiEndpoint.course.update(course.id), course);\n  }\n\n  static getDetail(id: number) {\n    return CrudService.get(ApiEndpoint.course.getDetail(id));\n  }\n}","import React, { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { CourseDetail } from \"./CourseDetail\";\nimport { CourseService } from \"./CourseService\";\n\nexport function CourseDetailPage(props: RouteComponentProps) {\n  const courseId = Number((props.match.params as any).courseId);\n  const courseResponse = useQuery(\n    useCallback(() => {\n      return CourseService.getDetail(courseId);\n    }, [courseId])\n  );\n\n  if (!courseResponse.data) {\n    return (\n      <div className=\"flex justify-center items-center\">\n        <FdmLoading />\n      </div>\n    );\n  }\n\n  return (\n    <CourseDetail\n      course={courseResponse.data}\n      onRefreshNeeded={courseResponse.reFetch}\n    />\n  );\n}\n","export enum OrderDirection {\n  ASC = 'asc',\n  DESC = 'desc',\n}\n\nexport const OrderDirectionDisplay = {\n  [OrderDirection.ASC]: 'Asc',\n  [OrderDirection.DESC]: 'Desc'\n}","import { Select, SelectProps } from 'antd';\nimport React from 'react';\nimport { OrderDirection, OrderDirectionDisplay } from '../enums/OrderDirection';\n\nexport function FdmOrderDirectionSelect(props: SelectProps<OrderDirection>) {\n  return (\n    <Select placeholder=\"Direction\" {...props}>\n      {Object.values(OrderDirection).map(val => (\n        <Select.Option value={val}>{OrderDirectionDisplay[val]}</Select.Option>\n      ))}\n    </Select>\n  )\n}","import { Slider } from 'antd';\nimport { SliderRangeProps } from 'antd/lib/slider';\nimport React from 'react';\n\nconst marks = {\n  0: '$0',\n  500: '$500'\n}\n\nexport function FdmPriceSlider(props: SliderRangeProps) {\n  return (\n    <Slider marks={marks} {...props} range min={0} max={500} />\n  )\n}","import { Slider } from 'antd';\nimport { SliderRangeProps } from 'antd/lib/slider';\nimport React from 'react';\n\nconst marks = {\n  0: '0',\n  5: '5'\n}\n\nexport function FdmStarSlider(props: SliderRangeProps) {\n  return (\n    <Slider marks={marks} {...props} range min={0} max={5} />\n  )\n}","import { useCallback, useMemo, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport function useCompKey() {\n  const [key, setKey] = useState(uuidv4());\n  const renew = useCallback(() => {\n    setKey(uuidv4());\n  }, []);\n  return useMemo(() => ({ compKey: key, renewCompKey: renew }), [key, renew]);\n}\n","import { Select, SelectProps } from \"antd\";\nimport React from \"react\";\n\ntype Getter = (item: any) => any;\n\ninterface IFdmSelectProps extends SelectProps<any> {\n  items: any[];\n  getLabel?: Getter;\n  getValue?: Getter;\n}\n\nexport function FdmSelect(props: IFdmSelectProps) {\n  const { items, getValue, getLabel, ...restProps } = props;\n  return (\n    <Select className=\"w-full\" loading={!items} {...restProps}>\n      {items && items.map((item) => (\n        <Select.Option\n          value={getValue ? getValue(item) : item.id}\n          key={getValue ? getValue(item) : item.id}\n        >\n          {getLabel ? getLabel(item) : item.name}\n        </Select.Option>\n      ))}\n    </Select>\n  );\n}\n","export class ArrayUtils {\n  static flatMap(arr: any[]) {\n    return arr.reduce((x: any[], y: any[]) => x.concat(y), []);\n  }\n\n  static isEmpty(arr: any[]) {\n    return !Array.isArray(arr) || arr.length === 0;\n  }\n}\n","import { CrudService } from \"../../shared/services/CrudService\";\nimport { ApiEndpoint } from '../../shared/constants/ApiEndpoint';\nimport { ICategory } from \"../../shared/entities/ICategory\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\n\nexport class CategoryService {\n  static all() {\n    return CrudService.get(ApiEndpoint.category.all);\n  }\n\n  static topOfWeeks() {\n    return CrudService.get(ApiEndpoint.category.topOfWeeks);\n  }\n\n  static add(category: ICategory) {\n    return CrudService.create(ApiEndpoint.category.add, category);\n  }\n\n  static updateStatus(id: number, status: EntityStatus) {\n    return CrudService.put(ApiEndpoint.category.udpateStatus(id), {status});\n  }\n}","import { SelectProps } from \"antd\";\nimport React, { useMemo } from \"react\";\nimport { FdmSelect } from \"../../shared/components/FdmSelect\";\nimport { ICategory } from \"../../shared/entities/ICategory\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { ArrayUtils } from \"../../shared/utils/ArrayUtils\";\nimport { CategoryService } from \"./CategoryService\";\n\ninterface ICategorySelectProps extends SelectProps<any> {\n  onlyChildren?: boolean;\n}\n\nexport function CategorySelect(props: ICategorySelectProps) {\n  const { onlyChildren, ...restProps } = props;\n  const categoryResponse = useQuery(CategoryService.all);\n  const categories = useMemo(() => {\n    if (categoryResponse.data) {\n      let categories = categoryResponse.data.map((c: ICategory) => c.children);\n      if (!onlyChildren) {\n        categories = [categoryResponse.data, ...categories];\n      }\n      return ArrayUtils.flatMap(categories);\n    }\n    return categoryResponse.data;\n  }, [categoryResponse.data, onlyChildren]);\n  return <FdmSelect placeholder=\"Category...\" items={categories} {...restProps} />;\n}\n","import { IAction } from \"./types/IAction\";\n\nexport function FdmReducer(state: any, action: IAction) {\n  switch (action.type) {\n    case 'SET_SEARCH_TERM':\n      return { ...state, searchTerm: action.payload || '' }\n    case 'SET_USER':\n      return { ...state, user: action.payload }\n  }\n};","import React, { createContext, useReducer } from \"react\";\nimport { FdmReducer } from \"./FdmReducer\";\n\nconst initialState = {\n  user: null,\n  searchTerm: \"\",\n};\n\nexport const FdmContext = createContext(initialState);\n\nexport function FdmStore(props: any) {\n  const [state, dispatch] = useReducer(FdmReducer, initialState);\n  return (\n    <FdmContext.Provider value={[state, dispatch] as any}>\n      {props.children}\n    </FdmContext.Provider>\n  );\n}\n","export enum CourseOrderBy {\n  PRICE = 'price',\n  REVIEW = 'avgStar',\n}\n\nexport const CourseOrderByDisplay = {\n  [CourseOrderBy.PRICE]: 'Price',\n  [CourseOrderBy.REVIEW]: 'Review'\n}","import { useCallback, useContext, useMemo } from \"react\";\nimport { FdmContext } from \"./FdmStore\";\n\ntype Dispatcher = (type: string, payload: any) => void;\n\nexport function useFdmStore(): [any, Dispatcher] {\n  const [globalState, dispatch] = useContext(FdmContext) as any;\n  const dispatcher = useCallback(\n    (type: string, payload: any) => {\n      dispatch({ type, payload });\n    },\n    [dispatch]\n  );\n  return useMemo(() => {\n    return [globalState, dispatcher];\n  }, [globalState, dispatcher]);\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport { AuthService } from \"../../modules/auth/AuthService\";\nimport { useFdmStore } from \"../store/useFdmStore\";\n\nexport function useAuthedUser() {\n  const [loading, setLoading] = useState(true);\n  const [{ user }, dispatch] = useFdmStore();\n\n  useEffect(() => {\n    (async () => {\n      if (AuthService.isAuthed) {\n        dispatch('SET_USER', await AuthService.getUser());\n      }\n      setLoading(false);\n    })();\n  }, [dispatch]);\n\n  return useMemo(\n    () => ({\n      authedUser: user,\n      loading,\n    }),\n    [user, loading]\n  );\n}\n","import {\n  BookOutlined,\n  HeartFilled,\n  HeartOutlined,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\nimport { Button, Rate, Tag, Tooltip } from \"antd\";\nimport moment from \"moment\";\nimport React, { useCallback, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FdmImage } from \"../../shared/components/FdmImage\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\nimport { ICourse } from \"../../shared/entities/ICourse\";\nimport { EntityStatus } from \"../../shared/enums/EntityStatus\";\nimport { useAuthedUser } from \"../../shared/hooks/useAuthedUser\";\nimport { AuthService } from \"../auth/AuthService\";\nimport { WatchListService } from \"../watch-list/WatchListService\";\n\ninterface ICourseCardProps {\n  course: ICourse;\n  loading?: boolean;\n  className?: string;\n}\n\nexport function CourseCard(props: ICourseCardProps) {\n  const { course } = props;\n  const { authedUser } = useAuthedUser();\n  const [watchListLoading, setWatchListLoading] = useState(false);\n  const [isWatchList, setIsWatchList] = useState(course.isWatchList);\n  const updateWatchList = useCallback(\n    async (status: EntityStatus) => {\n      setWatchListLoading(true);\n      const success = await WatchListService.updateStatusWithNotify(\n        course.id,\n        status\n      );\n      if (success) {\n        setIsWatchList(status === EntityStatus.ACTIVE);\n      }\n      setWatchListLoading(false);\n    },\n    [course.id]\n  );\n  return (\n    <div className=\"h-fulli block rounded-lg p-5 border shadow hover:shadow-lg h-auto\">\n      <Link\n        to={`/courses/detail/${course.id}`}\n        className=\"flex justify-center mb-5\"\n      >\n        <FdmImage\n          alt={course.title}\n          className=\"w-full rounded-lg\"\n          style={{ height: \"135px\" }}\n          src={`${ASSETS_URL}/${course.avatarPath}`}\n        />\n      </Link>\n      <div className=\"flex items-start relative\">\n        <Link className=\"block pr-8\" to={`/courses/detail/${course.id}`}>\n          <h1>{course.title}</h1>\n        </Link>\n        <div>\n          <div className=\"absolute\" style={{ top: '-5px', right: \"5px\" }}>\n            {AuthService.isAuthed &&\n              (watchListLoading ? (\n                <LoadingOutlined className=\"text-xl\" />\n              ) : (\n                <Tooltip placement=\"left\" title={isWatchList ? \"Un-love\" : \"Love\"}>\n                  <div\n                    className={\n                      \"text-xl \" +\n                      (isWatchList ? \"text-red-400\" : \"text-gray-700\")\n                    }\n                  >\n                    {isWatchList ? (\n                      <HeartFilled\n                        className=\"text-red-400\"\n                        onClick={() => updateWatchList(EntityStatus.DISABLED)}\n                      />\n                    ) : (\n                      <HeartOutlined\n                        onClick={() => updateWatchList(EntityStatus.ACTIVE)}\n                      />\n                    )}\n                  </div>\n                </Tooltip>\n              ))}\n          </div>\n        </div>\n      </div>\n      <p className=\"my-0 text-gray-700\">\n        <span className=\"text-yellow-300 mr-1\">{course.avgStar}</span>{\" \"}\n        <Rate disabled value={course.avgStar} /> ({course.totalReview})\n      </p>\n      <p className=\"my-0 text-gray-700\">{course.category?.name}</p>\n      <p className=\"my-0 text-blue-400\">\n        {course.creator?.firstName} {course.creator?.lastName}\n      </p>\n      {course.isEnrollment ? (\n        <p className=\"my-0 text-red-400 flex items-center\">\n          <BookOutlined className=\"mr-1\" /> You are studying this course\n        </p>\n      ) : (\n        <p className=\"my-0\">\n          <b className=\"text-red-400\">\n            $ {Math.round((course.price - course.discount) * 100) / 100}\n          </b>{\" \"}\n          <span className=\"line-through ml-1 text-gray-400\">\n            {course.discount ? `(${course.price})` : \"\"}\n          </span>\n        </p>\n      )}\n\n      <div className=\"mt-1\">\n        {course.totalEnrollment >= 400 && <Tag color=\"gold\">Best seller</Tag>}\n        {moment().diff(moment(course.createdDate), \"day\") <= 7 && (\n          <Tag color=\"green\">New</Tag>\n        )}\n      </div>\n\n      {course.creatorId === authedUser?.id && (\n        <Link\n          to={`/teacher/edit-course/${course.id}`}\n          className=\"mt-3 block w-fulli\"\n        >\n          <Button danger type=\"primary\" shape=\"round\" className=\"w-full\">\n            Edit course\n          </Button>\n        </Link>\n      )}\n    </div>\n  );\n}\n","import { Select, SelectProps } from 'antd';\nimport React from 'react';\nimport { CourseOrderBy, CourseOrderByDisplay } from './enums/CourseOrderBy';\n\nexport function CourseOrderBySelect(props: SelectProps<CourseOrderBy>) {\n  return (\n    <Select placeholder=\"Order by\" {...props}>\n      {Object.values(CourseOrderBy).map(val => (\n        <Select.Option key={val} value={val}>{CourseOrderByDisplay[val]}</Select.Option>\n      ))}\n    </Select>\n  )\n}","import { Divider, Input, Pagination } from \"antd\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { FdmOrderDirectionSelect } from \"../../shared/components/FdmOrderDirectionSelect\";\nimport { FdmPriceSlider } from \"../../shared/components/FdmPriceSlider\";\nimport { FdmStarSlider } from \"../../shared/components/FdmStarSlider\";\nimport { ICourse } from \"../../shared/entities/ICourse\";\nimport { OrderDirection } from \"../../shared/enums/OrderDirection\";\nimport { useCompKey } from \"../../shared/hooks/useCompKey\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { IPagingResponse } from \"../../types/IPagingResponse\";\nimport { CategorySelect } from \"../category/CategorySelect\";\nimport { CourseCard } from \"./CourseCard\";\nimport { CourseOrderBySelect } from \"./CourseSortTypeSelect\";\nimport { CourseOrderBy } from \"./enums/CourseOrderBy\";\nimport { ICourseSearchRequest } from \"./types/CourseSearchRequest\";\n\ninterface ICourseListProps {\n  categoryId?: number;\n  searchTerm?: string;\n  fetchSource: (\n    request: ICourseSearchRequest\n  ) => Promise<IPagingResponse<ICourse>>;\n}\n\nexport function CourseList(props: ICourseListProps) {\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [searchTerm, setSearchTerm] = useState(props.searchTerm || \"\");\n  const [orderBy, setOrderBy] = useState<CourseOrderBy | null>(null);\n  const [orderDirection, setOrderDirection] = useState<OrderDirection | null>(\n    null\n  );\n  const [filters, setFilters] = useState<any>({\n    categoryIds: (() => {\n      return props.categoryId &&\n        !isNaN(props.categoryId) &&\n        props.categoryId > 0\n        ? [props.categoryId]\n        : [];\n    })(),\n  });\n  const searchTermCompKey = useCompKey();\n  const renewSearchTermCompKey = searchTermCompKey.renewCompKey;\n\n  const updateFilters = useCallback(\n    (newFilters: any) => {\n      setFilters({ ...filters, ...newFilters });\n      setPage(1);\n    },\n    [filters]\n  );\n\n  useEffect(() => {\n    setSearchTerm(props.searchTerm || \"\");\n    renewSearchTermCompKey();\n  }, [props.searchTerm, renewSearchTermCompKey]);\n\n  const propsFetchSource = props.fetchSource;\n  const fetchSource = useCallback(() => {\n    return propsFetchSource({\n      page,\n      pageSize,\n      searchTerm: searchTerm || undefined,\n      orderBy: orderBy as any,\n      orderDirection: orderDirection as any,\n      ...filters,\n    });\n  }, [\n    propsFetchSource,\n    page,\n    pageSize,\n    searchTerm,\n    orderBy,\n    orderDirection,\n    filters,\n  ]);\n\n  const coursesResponse = useQuery(fetchSource);\n  const pagingResponse: IPagingResponse<ICourse> = coursesResponse.data;\n  return (\n    <div className=\"mb-4 flex\">\n      <div className=\"w-5/6\">\n        <div className=\"flex items-center mb-4\">\n          <div>\n            Showing page <b>{page}</b> with page size <b>{pageSize}</b> of total{\" \"}\n            <b>{pagingResponse?.total || 0}</b> courses\n          </div>\n          <div className=\"ml-auto flex\">\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\">Order by:</span>\n              <CourseOrderBySelect\n                value={orderBy as any}\n                onChange={(val) => {\n                  setOrderBy(val);\n                  if (!orderDirection) {\n                    setOrderDirection(OrderDirection.DESC);\n                  }\n                }}\n              />\n            </div>\n            <div className=\"flex items-center ml-4\">\n              <span className=\"mr-2\">Order direction:</span>\n              <FdmOrderDirectionSelect\n                disabled={!orderBy}\n                value={orderDirection as any}\n                onChange={setOrderDirection}\n              />\n            </div>\n          </div>\n        </div>\n        <Input.Search\n          key={searchTermCompKey.compKey}\n          allowClear\n          className=\"w-full mb-4\"\n          placeholder=\"Search courses...\"\n          defaultValue={searchTerm}\n          onSearch={setSearchTerm as any}\n        />\n        {!pagingResponse ? (\n          <FdmLoading />\n        ) : (\n          <div className=\"flex flex-wrap\">\n            {pagingResponse.items.map((course: ICourse, idx: number) => (\n              <div className=\"w-1/4 px-2 mb-4\">\n                <CourseCard course={course} key={idx} />\n              </div>\n            ))}\n          </div>\n        )}\n        <div className=\"mt-4 flex justify-center\">\n          <Pagination\n            current={page}\n            pageSize={pageSize}\n            total={pagingResponse?.total || 0}\n            showSizeChanger\n            pageSizeOptions={[\"20\", \"50\"]}\n            onChange={(page, pageSize) => {\n              setPage(page);\n              setPageSize(pageSize || 20);\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"w-1/6 ml-5\">\n        <div className=\"rounded-lg shadow p-3\">\n          <label className=\"block mb-4\">\n            <b>Category</b>\n          </label>\n          <CategorySelect\n            defaultValue={filters.categoryIds}\n            mode=\"multiple\"\n            onChange={(categoryIds) => updateFilters({ categoryIds })}\n          />\n          <Divider />\n          <label className=\"block my-4\">\n            <b>Price</b>\n          </label>\n          <FdmPriceSlider\n            range\n            defaultValue={[0, 500]}\n            onAfterChange={([fromPrice, toPrice]) => {\n              updateFilters({ fromPrice, toPrice });\n            }}\n          />\n          <Divider />\n          <label className=\"block my-4\">\n            <b>Star</b>\n          </label>\n          <FdmStarSlider\n            range\n            defaultValue={[0, 5]}\n            onAfterChange={([fromStar, toStar]) => {\n              updateFilters({ fromStar, toStar });\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { CourseList } from \"./CourseList\";\nimport { CourseService } from \"./CourseService\";\nimport { ICourseSearchRequest } from \"./types/CourseSearchRequest\";\n\nexport function CourseListOfCreator(props: RouteComponentProps) {\n  const creatorId = Number((props.match.params as any).creatorId);\n  const fetchSource = useCallback(\n    (req: ICourseSearchRequest) => {\n      return CourseService.search({ ...req, creatorId });\n    },\n    [creatorId]\n  );\n\n  return (\n    <div>\n      <CourseList fetchSource={fetchSource} />\n    </div>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { CourseList } from \"./CourseList\";\nimport { CourseService } from \"./CourseService\";\nimport { useFdmStore } from \"../../shared/store/useFdmStore\";\nimport { ICourseSearchRequest } from \"./types/CourseSearchRequest\";\n\nexport function CourseListPage(props: RouteComponentProps) {\n  const categoryId = Number((props.match.params as any).categoryId);\n  const [globalState, dispatch] = useFdmStore();\n\n  const fetchSource = useCallback(\n    (req: ICourseSearchRequest) => {\n      dispatch(\"SET_SEARCH_TERM\", req.searchTerm || \"\");\n      return CourseService.search(req);\n    },\n    [dispatch]\n  );\n\n  return (\n    <div>\n      <CourseList\n        categoryId={categoryId}\n        fetchSource={fetchSource}\n        searchTerm={globalState.searchTerm}\n      />\n    </div>\n  );\n}\n","import { Button, Result } from \"antd\";\nimport React from \"react\";\nimport { RouteComponentProps, useHistory } from \"react-router\";\n\nexport function SaveCourseResult(props: RouteComponentProps) {\n  const courseId = (props.match.params as any)?.courseId;\n  const history = useHistory();\n  return (\n    <Result\n      status=\"success\"\n      title=\"Save course success\"\n      subTitle=\"Your course is successfully saved, and ready to show\"\n      extra={[\n        <Button\n          type=\"primary\"\n          shape=\"round\"\n          onClick={() => history.push(`/courses/detail/${courseId}`)}\n        >\n          View course\n        </Button>,\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { CourseDetailPage } from './CourseDetailPage';\nimport { CourseListOfCreator } from './CourseListOfCreator';\nimport { CourseListPage } from './CourseListPage';\nimport { SaveCourseResult } from './SaveCourseResult';\n\nexport function CoursePage() {\n  return (\n    <Switch>\n      <Route path=\"/courses/detail/:courseId\" component={CourseDetailPage} />\n      <Route path=\"/courses/creator/:creatorId\" component={CourseListOfCreator} />\n      <Route path=\"/courses/save-result/:courseId\" component={SaveCourseResult} />\n      <Route path=\"/courses/:categoryId\" component={CourseListPage} />\n    </Switch>\n  )\n}","import { BookFilled } from \"@ant-design/icons\";\nimport React, { useCallback } from \"react\";\nimport { CourseList } from \"../course/CourseList\";\nimport { CourseService } from \"../course/CourseService\";\nimport { ICourseSearchRequest } from \"../course/types/CourseSearchRequest\";\n\nexport function EnrollmentPage() {\n  const fetchSource = useCallback((request: ICourseSearchRequest) => {\n    return CourseService.search({\n      ...request,\n      onlyEnrollment: true,\n    });\n  }, []);\n  return (\n    <div>\n      <h1 className=\"text-3xl text-blue-400 flex items-center\">\n        <BookFilled className=\"mr-2\" /> Your enrollment\n      </h1>\n      <CourseList fetchSource={fetchSource} />\n    </div>\n  );\n}\n","export enum CourseTopType {\n  VIEW = 'totalView',\n  NEW = 'createdDate'\n}","import React, { useCallback } from \"react\";\nimport {\n  YoutubeOutlined,\n  SafetyOutlined,\n  ClockCircleOutlined,\n  CodeOutlined,\n  CopyOutlined,\n  TeamOutlined,\n} from \"@ant-design/icons\";\nimport { useQuery } from \"../../shared/hooks/useQuery.hook\";\nimport { CourseService } from \"../course/CourseService\";\nimport { CourseCard } from \"../course/CourseCard\";\nimport { CategoryService } from \"../category/CategoryService\";\nimport { ICategoryTotalEnrollment } from \"../../shared/entities/ICategoryTotalEnrollment\";\nimport { NavLink } from \"react-router-dom\";\nimport Slider from \"react-slick\";\nimport { CourseTopType } from \"../course/enums/CourseTopType\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\n\nconst features = [\n  {\n    icon: <YoutubeOutlined />,\n    title: \"1,000+ Courses\",\n    subTitle: \"Explore a wide range of skills.\",\n  },\n  {\n    icon: <SafetyOutlined />,\n    title: \"By Industry Experts\",\n    subTitle: \"Professional development from the best people.\",\n  },\n  {\n    icon: <ClockCircleOutlined />,\n    title: \"Unlimited Access\",\n    subTitle: \"Unlock Library and learn any topic with one subscription.\",\n  },\n  {\n    icon: <CodeOutlined />,\n    title: \"Lesson Source Files\",\n    subTitle: \"Explore a wide range of skills.\",\n  },\n  {\n    icon: <CopyOutlined />,\n    title: \"Printed Diploma\",\n    subTitle: \"Professional development from the best people.\",\n  },\n  {\n    icon: <TeamOutlined />,\n    title: \"Premium Support\",\n    subTitle: \"Unlock Library and learn any topic with one subscription.\",\n  },\n];\n\nconst sliderSettings = {\n  dots: true,\n  infinite: true,\n  speed: 500,\n  slidesToShow: 5,\n  slidesToScroll: 5,\n};\n\nexport function HomePage() {\n  const topCoursesOfWeek = useQuery(CourseService.topOfWeeks);\n  const topCategoriesOfWeek = useQuery(CategoryService.topOfWeeks);\n  const top10Viewed = useQuery(\n    useCallback(() => CourseService.top(CourseTopType.VIEW), [])\n  );\n  const top10New = useQuery(\n    useCallback(() => CourseService.top(CourseTopType.NEW), [])\n  );\n  return (\n    <div>\n      <div>\n        <h1 className=\"text-center text-blue-400 text-3xl\">\n          Welcome to Fademy\n        </h1>\n        <p className=\"text-center text-xl text-gray-500\">\n          What other students turned professionals have to say about us after\n          learning with us and reaching their goals.\n        </p>\n        <div className=\"flex flex-wrap mt-12\">\n          {features.map((feature, idx) => (\n            <div key={idx} className=\"flex items-center w-1/3 mb-2\">\n              <div className=\"rounded-full h-16 w-16 flex items-center justify-center bg-blue-400 text-white text-2xl mb-4\">\n                {feature.icon}\n              </div>\n              <div className=\"ml-2 flex flex-col justify-center\">\n                <h1 className=\"text-gray-500\">\n                  <b>{feature.title}</b>\n                </h1>\n                <p className=\"text-gray-500\">{feature.subTitle}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <h1 className=\"text-center text-blue-400 text-3xl mt-16 mb-8\">\n          Top courses of week\n        </h1>\n        {!topCoursesOfWeek.data ? (\n          <FdmLoading />\n        ) : (\n          <Slider {...sliderSettings} >\n            {[...(Array(5).keys() as any)].map((_, idx) => (\n              <div className=\"p-2\">\n                <CourseCard\n                  key={idx}\n                  className=\"w-full\"\n                  course={\n                    topCoursesOfWeek.data ? topCoursesOfWeek.data[idx] : {}\n                  }\n                  loading={!topCoursesOfWeek.data}\n                />\n              </div>\n            ))}\n          </Slider>\n        )}\n      </div>\n\n      <div>\n        <h1 className=\"text-center text-blue-400 text-3xl mt-16 mb-8\">\n          Top categories of week\n        </h1>\n        <div className=\"flex flex-wrap\">\n          {!topCategoriesOfWeek.data ? (\n            <div className=\"py-5 flex justify-center items-center w-full\">\n              <FdmLoading />\n            </div>\n          ) : (\n            topCategoriesOfWeek.data.map(\n              (tc: ICategoryTotalEnrollment, idx: number) => (\n                <div className=\"w-1/5 p-2\">\n                  <NavLink\n                    key={idx}\n                    to={`/courses/${tc.categoryId}`}\n                    className=\"text-gray-500 block border rounded-lg p-5 cursor-pointer hover:shadow\"\n                  >\n                    {tc.category.name} ({tc.totalEnrollment})\n                  </NavLink>\n                </div>\n              )\n            )\n          )}\n        </div>\n      </div>\n\n      <div>\n        <h1 className=\"text-center text-blue-400 text-3xl mt-16 mb-8\">\n          Most viewed courses\n        </h1>\n        {!top10Viewed.data ? (\n          <FdmLoading />\n        ) : (\n          <Slider {...sliderSettings}>\n            {[...(Array(10).keys() as any)].map((_, idx) => (\n              <div className=\"p-2\">\n                <CourseCard\n                  key={idx}\n                  className=\"w-full\"\n                  course={top10Viewed.data ? top10Viewed.data[idx] : {}}\n                  loading={!top10Viewed.data}\n                />\n              </div>\n            ))}\n          </Slider>\n        )}\n      </div>\n\n      <div>\n        <h1 className=\"text-center text-blue-400 text-3xl mt-16 mb-8\">\n          Newest courses\n        </h1>\n        {!top10New.data ? (\n          <FdmLoading />\n        ) : (\n          <Slider {...sliderSettings}>\n            {[...(Array(10).keys() as any)].map((_, idx) => (\n              <div className=\"p-2\">\n                <CourseCard\n                  key={idx}\n                  className=\"w-full\"\n                  course={top10New.data ? top10New.data[idx] : {}}\n                  loading={!top10New.data}\n                />\n              </div>\n            ))}\n          </Slider>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { Tabs } from \"antd\";\nimport React from \"react\";\nimport { Route, RouteComponentProps, Switch } from \"react-router\";\nimport { ChangePasswordForm } from \"./ChangePasswordForm\";\nimport { ProfileEditForm } from \"./ProfileEditForm\";\n\nenum ProfileTabs {\n  PROFILE = \"/profile\",\n  CHANGE_PASSWORD = \"/profile/change-password\",\n}\n\nexport function ProfilePage(props: RouteComponentProps) {\n  return (\n    <>\n      <div className=\"flex justify-center items-center\">\n        <div\n          className=\"px-10 py-5 rounded-lg shadow\"\n          style={{ width: \"400px\" }}\n        >\n          <Tabs\n            defaultActiveKey={props.location.pathname}\n            onChange={(pathname) =>\n              props.history.push(pathname)\n            }\n          >\n            <Tabs.TabPane tab=\"Profile\" key={ProfileTabs.PROFILE} />\n            <Tabs.TabPane tab=\"Change password\" key={ProfileTabs.CHANGE_PASSWORD} />\n          </Tabs>\n          <Switch>\n            <Route exact path=\"/profile\" component={ProfileEditForm} />\n            <Route path=\"/profile/change-password\" component={ChangePasswordForm} />\n          </Switch>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { Button, Form, Input, notification } from \"antd\";\nimport React, { useCallback, useState } from \"react\";\nimport { AuthService } from \"../auth/AuthService\";\nimport { UserFormRules } from \"../user/UserFormRules\";\n\nexport function ChangePasswordForm() {\n  const [form] = Form.useForm();\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const submit = useCallback(async (values: any) => {\n    setSubmitLoading(true);\n    const success = await AuthService.changePassword(\n      values.oldPassword,\n      values.password\n    );\n    if (success) {\n      form.resetFields();\n      notification.success({\n        message: \"Success\",\n        description: \"Update password success\",\n      });\n    }\n    setSubmitLoading(false);\n  }, [form]);\n\n  return (\n    <Form form={form} onFinish={submit}>\n      <label className=\"block mb-2\">\n        Old password <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"oldPassword\" rules={UserFormRules.password}>\n        <Input placeholder=\"Old password...\" type=\"password\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        New password <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"password\" rules={UserFormRules.password}>\n        <Input placeholder=\"New password...\" type=\"password\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Confirm new password <b className=\"text-red-400\">*</b>\n      </label>\n      <Form.Item name=\"confirmPassword\" rules={UserFormRules.confirmPassword}>\n        <Input placeholder=\"Confirm new password...\" type=\"password\" />\n      </Form.Item>\n      <Form.Item>\n        <Button\n          type=\"primary\"\n          shape=\"round\"\n          className=\"w-full\"\n          htmlType=\"submit\"\n          loading={submitLoading}\n        >\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import React, { useCallback, useState } from 'react';\nimport { Button } from 'antd';\n\ninterface IProfileActionButtonGroupProps {\n  onCancel: any;\n  onEdit: any;\n  onSave: any;\n  edit: boolean;\n  saveBtnTitle?: string;\n  editBtnTitle?: string;\n}\n\n\nexport function ProfileActionButtonGroup(props: IProfileActionButtonGroupProps) {\n  const [saveLoading, setSaveLoading] = useState(false);\n  const { onSave } = props;\n  const save = useCallback(async () => {\n    setSaveLoading(true);\n    await onSave();\n    setSaveLoading(false);\n  }, [onSave]);\n\n  return props.edit ? (\n    <div>\n      <Button\n        type=\"primary\"\n        shape=\"round\"\n        className=\"mb-2 w-full\"\n        loading={saveLoading}\n        onClick={save}\n      >\n        {props.saveBtnTitle ? props.saveBtnTitle : \"Save\"}\n      </Button>\n      <Button\n        className=\"w-full\"\n        shape=\"round\"\n        onClick={() => props.onCancel(false)}\n      >\n        Cancel\n      </Button>\n    </div>\n  ) : (\n    <Button\n      className=\"w-full\"\n      type=\"primary\"\n      shape=\"round\"\n      onClick={() => props.onEdit(true)}\n    >\n      {props.editBtnTitle ? props.editBtnTitle : \"Edit\"}\n    </Button>\n  );\n}","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Button, Form, Input, notification } from \"antd\";\nimport moment from \"moment\";\nimport { IUser } from \"../../shared/entities/IUser\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { RegisterFormRules } from \"../auth/RegisterFormRules\";\nimport { useOtpSender } from \"../otp/useOtpSender\";\nimport { UserService } from \"../user/UserService\";\nimport { ProfileActionButtonGroup } from \"./ProfileActionButtonGroup\";\n\ninterface IEmailEditFormProps {\n  authedUser: IUser;\n  onSaveSuccess: (email: string) => any;\n}\n\nexport function EmailEditForm(props: IEmailEditFormProps) {\n  const [form] = Form.useForm();\n  const [edit, setEdit] = useState(false);\n  const [saveLoading, setSaveLoading] = useState(false);\n  const [email, setEmail] = useState<any>();\n\n  const getEmail = useCallback(async () => {\n    let email;\n    try {\n      const values = await form.validateFields();\n      email = values.email;\n    } catch {\n      return false;\n    }\n    return email;\n  }, [form]);\n\n  const { authedUser, onSaveSuccess } = props;\n  const otpSender = useOtpSender();\n  const { sendOtp: _sendOtp, SendOtpButton } = otpSender;\n  const sendOtp = useCallback(async () => {\n    const email = await getEmail();\n    if (!email) return;\n    await _sendOtp({ ...authedUser, email } as any);\n    setEmail(email);\n  }, [getEmail, _sendOtp, authedUser]);\n\n  const remainDaysToUpdateEmail = useMemo(() => {\n    if (authedUser && authedUser.updatedEmailDate) {\n      return 30 - moment().diff(moment(authedUser?.updatedEmailDate), \"days\");\n    }\n    return -1;\n  }, [authedUser]);\n\n  const saveEmail = useCallback(\n    async (payload: any) => {\n      setSaveLoading(true);\n      try {\n        await UserService.updateEmail(payload);\n        setEdit(false);\n        onSaveSuccess(payload.email);\n        notification.success({\n          message: \"Success\",\n          description: \"Update email success\",\n        });\n      } catch (err) {\n        console.error(err);\n        NotificationUtils.error(err.message);\n      }\n      setSaveLoading(false);\n    },\n    [onSaveSuccess]\n  );\n\n  return (\n    <Form\n      form={form}\n      initialValues={{ email: authedUser.email }}\n      onFinish={saveEmail}\n    >\n      <label className=\"block mb-2\">\n        E-mail {edit && <b className=\"text-red-400\">*</b>}\n      </label>\n      <Form.Item name=\"email\" rules={RegisterFormRules.email}>\n        <Input disabled={!edit} placeholder=\"E-mail...\" />\n      </Form.Item>\n      {!email && remainDaysToUpdateEmail < 0 && (\n        <Form.Item>\n          <ProfileActionButtonGroup\n            edit={edit}\n            saveBtnTitle=\"Continue\"\n            editBtnTitle=\"Edit email\"\n            onSave={sendOtp}\n            onCancel={() => setEdit(false)}\n            onEdit={() => setEdit(true)}\n          />\n        </Form.Item>\n      )}\n      {remainDaysToUpdateEmail > 0 && (\n        <p className=\"my-0 text-red-400\">\n          Please wait for {remainDaysToUpdateEmail} days to update your email\n        </p>\n      )}\n      {!!email && (\n        <>\n          <label className=\"block mb-2\">\n            OTP <b className=\"text-red-400\">*</b>\n          </label>\n          <Form.Item name=\"otp\" rules={RegisterFormRules.otp}>\n            <Input placeholder=\"OTP...\" />\n          </Form.Item>\n          <Form.Item>\n            <SendOtpButton\n              className=\"w-full mb-4\"\n              onClick={() =>\n                otpSender.sendOtp({\n                  ...authedUser,\n                  email,\n                } as any)\n              }\n            />\n            <Button\n              type=\"primary\"\n              shape=\"round\"\n              className=\"w-full\"\n              htmlType=\"submit\"\n              loading={saveLoading}\n            >\n              Save new email\n            </Button>\n          </Form.Item>\n        </>\n      )}\n    </Form>\n  );\n}\n","import { Form, Input, notification } from \"antd\";\nimport React, { useCallback, useState } from \"react\";\nimport { IUser } from \"../../shared/entities/IUser\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { UserFormRules } from \"../user/UserFormRules\";\nimport { UserService } from \"../user/UserService\";\nimport { ProfileActionButtonGroup } from \"./ProfileActionButtonGroup\";\n\ninterface IFirstLastNameEditFormProps {\n  authedUser: IUser;\n  onSaveSuccess: (payload: any) => any;\n}\n\nexport function FirstLastNameEditForm(props: IFirstLastNameEditFormProps) {\n  const [form] = Form.useForm();\n  const [edit, setEdit] = useState(false);\n  \n  const { authedUser, onSaveSuccess } = props;\n  const saveFlName = useCallback(async () => {\n    let payload: any;\n    try {\n      payload = await form.validateFields();\n    } catch {\n      return;\n    }\n\n    try {\n      await UserService.updateFirstLastName(payload);\n      setEdit(false);\n      onSaveSuccess(payload);\n      notification.success({\n        message: \"Success\",\n        description: \"Update first name, last name success\",\n      });\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n  }, [form, onSaveSuccess]);\n\n  return (\n    <Form\n      form={form}\n      initialValues={{\n        firstName: authedUser.firstName,\n        lastName: authedUser.lastName,\n      }}\n    >\n      <label className=\"block mb-2\">\n        First name {edit && <b className=\"text-red-400\">*</b>}\n      </label>\n      <Form.Item name=\"firstName\" rules={UserFormRules.firstName}>\n        <Input disabled={!edit} placeholder=\"First name...\" />\n      </Form.Item>\n      <label className=\"block mb-2\">\n        Last name {edit && <b className=\"text-red-400\">*</b>}\n      </label>\n      <Form.Item name=\"lastName\" rules={UserFormRules.lastName}>\n        <Input disabled={!edit} placeholder=\"Last name...\" />\n      </Form.Item>\n      <Form.Item>\n        <ProfileActionButtonGroup\n          edit={edit}\n          editBtnTitle=\"Edit first & last name\"\n          onSave={() => saveFlName()}\n          onCancel={() => setEdit(false)}\n          onEdit={() => setEdit(true)}\n        />\n      </Form.Item>\n    </Form>\n  );\n}\n","import { Form, Input, notification } from \"antd\";\nimport React, { useCallback, useState } from \"react\";\nimport { IUser } from \"../../shared/entities/IUser\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { UserFormRules } from \"../user/UserFormRules\";\nimport { UserService } from \"../user/UserService\";\nimport { ProfileActionButtonGroup } from \"./ProfileActionButtonGroup\";\n\ninterface ITeacherProfileEditFormProps {\n  authedUser: IUser;\n  onSaveSuccess: (payload: any) => any;\n}\n\nexport function TeacherProfileEditForm(props: ITeacherProfileEditFormProps) {\n  const [form] = Form.useForm();\n  const [edit, setEdit] = useState(false);\n\n  const { authedUser, onSaveSuccess } = props;\n  const saveTeacherProfile = useCallback(async () => {\n    let payload: any;\n    try {\n      payload = await form.validateFields();\n    } catch {\n      return;\n    }\n\n    try {\n      await UserService.updateTeacherProfile(payload);\n      setEdit(false);\n      onSaveSuccess(payload);\n      notification.success({\n        message: \"Success\",\n        description: \"Update your teacher profile success\",\n      });\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n  }, [form, onSaveSuccess]);\n\n  return (\n    <Form\n      form={form}\n      initialValues={{\n        bio: authedUser.bio,\n        introduction: authedUser.introduction,\n      }}\n    >\n      <label className=\"block mb-2\">Bio</label>\n      <Form.Item name=\"bio\" rules={UserFormRules.bio}>\n        <Input disabled={!edit} placeholder=\"Bio...\" />\n      </Form.Item>\n      <label className=\"block mb-2\">Introduction</label>\n      <Form.Item name=\"introduction\" rules={UserFormRules.introduction}>\n        <Input.TextArea rows={5} disabled={!edit} placeholder=\"Introduction...\" />\n      </Form.Item>\n      <Form.Item>\n        <ProfileActionButtonGroup\n          edit={edit}\n          editBtnTitle=\"Edit your teacher profile\"\n          onSave={() => saveTeacherProfile()}\n          onCancel={() => setEdit(false)}\n          onEdit={() => setEdit(true)}\n        />\n      </Form.Item>\n    </Form>\n  );\n}\n","import { Divider, Form, Input } from \"antd\";\nimport React, { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { FdmLoading } from \"../../shared/components/FdmLoading\";\nimport { UserRole } from \"../../shared/enums/UserRole\";\nimport { useAuthedUser } from \"../../shared/hooks/useAuthedUser\";\nimport { useFdmStore } from \"../../shared/store/useFdmStore\";\nimport { EmailEditForm } from \"./EmailEditForm\";\nimport { FirstLastNameEditForm } from \"./FirstLastNameEditForm\";\nimport { TeacherProfileEditForm } from \"./TeacherProfileEditForm\";\n\nexport function ProfileEditForm(props: RouteComponentProps) {\n  const store = useFdmStore();\n  const dispatch = store[1];\n  const { authedUser, loading } = useAuthedUser();\n\n  const onSaveEmailSuccessHandler = useCallback(\n    (email: string) => {\n      dispatch(\"SET_USER\", {\n        ...authedUser,\n        email,\n        updatedEmailDate: new Date(),\n      });\n    },\n    [dispatch, authedUser]\n  );\n\n  const onSaveFlNameSuccessHandler = useCallback(\n    (payload: any) => {\n      dispatch(\"SET_USER\", { ...authedUser, ...payload });\n    },\n    [dispatch, authedUser]\n  );\n\n  const onSaveTeacherProfileSuccessHandler = useCallback(\n    (payload: any) => {\n      dispatch(\"SET_USER\", { ...authedUser, ...payload });\n    },\n    [dispatch, authedUser]\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center\">\n        <FdmLoading />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Form.Item>\n        <label className=\"block mb-2\">Username</label>\n        <Input disabled defaultValue={authedUser?.username} />\n      </Form.Item>\n      <Divider />\n      <EmailEditForm\n        authedUser={authedUser}\n        onSaveSuccess={onSaveEmailSuccessHandler}\n      />\n      <Divider />\n      <FirstLastNameEditForm\n        authedUser={authedUser}\n        onSaveSuccess={onSaveFlNameSuccessHandler}\n      />\n      {authedUser.role === UserRole.TEACHER && (\n        <>\n          <Divider />\n          <TeacherProfileEditForm\n            authedUser={authedUser}\n            onSaveSuccess={onSaveTeacherProfileSuccessHandler}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","export enum FileType {\n  VIDEO = 'VIDEO',\n  IMAGE = 'IMAGE',\n}","export enum StdResponseCode {\n  SUCCESS = 1,\n  FAILED = 2,\n}\n","import { notification } from \"antd\";\nimport React from \"react\";\nimport { FilePond } from \"react-filepond\";\nimport { ApiEndpoint } from \"../../shared/constants/ApiEndpoint\";\nimport { FileType } from \"../../shared/enums/FileType\";\nimport { StdResponseCode } from \"../../shared/enums/StdResponseCode\";\nimport { AuthService } from \"../auth/AuthService\";\n\ninterface IUploaderProps {\n  fileType: FileType;\n  state?: string;\n  onUploadSuccess?: (filePath: string) => any;\n  pondRef?: any;\n  [key: string]: any;\n}\n\nconst configs = {\n  [FileType.IMAGE]: {\n    maxSize: \"5MB\", // 5MB\n    validMimeTypes: [\n      \"image/gif\",\n      \"image/jpeg\",\n      \"image/png\",\n      \"image/svg+xml\",\n      \"image/webp\",\n    ],\n  },\n  [FileType.VIDEO]: {\n    maxSize: \"500MB\", // 500MB\n    validMimeTypes: [\"video/x-flv\", \"video/mp4\", \"video/3gpp\"],\n  },\n};\n\nexport function Uploader(props: IUploaderProps) {\n  const config = configs[props.fileType];\n  return (\n    <FilePond\n      name=\"file\"\n      maxFiles={1}\n      server={{\n        url: ApiEndpoint.uploader.upload,\n        load: (source, load) => {\n          const myRequest = new Request(source);\n          fetch(myRequest).then(function(response) {\n            response.blob().then(function(myBlob) {\n              load(myBlob)\n            });\n          });         \n      },\n        process: {\n          headers: {\n            'x-file-type': props.fileType,\n            'x-upload-state': props.state,\n            'Authorization': `Bearer ${AuthService.accessToken}`\n          },\n          onload: (raw: any) => {\n            const response = JSON.parse(raw);\n            if (response.code === StdResponseCode.SUCCESS) {\n              props.onUploadSuccess && props.onUploadSuccess(response.result);\n            } else {\n              notification.error({\n                message: 'Error',\n                description: 'Upload failed, please try again'\n              })\n            }\n          }\n        } as any\n      }}\n      ref={(ref) => {\n        if (props.pondRef) {\n          props.pondRef.current = ref;\n        }\n      }}\n      dropValidation={true}\n      instantUpload={false}\n      acceptedFileTypes={config.validMimeTypes}\n      maxFileSize={config.maxSize}\n      {...props}\n    />\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { stateToHTML } from 'draft-js-export-html';\nimport { EditorState, convertFromHTML, ContentState } from 'draft-js';\nimport { Editor } from \"react-draft-wysiwyg\";\n\ninterface IFdmEditorProps {\n  editorRef?: any;\n  html?: string;\n}\n\nexport function FdmEditor(props: IFdmEditorProps) {\n  const [editorState, setEditorState] = useState<any>();\n  const { html } = props;\n  useEffect(() => {\n    if (!!html) {\n      const blocksFromHTML = convertFromHTML(html || '');\n      const state = ContentState.createFromBlockArray(\n        blocksFromHTML.contentBlocks,\n        blocksFromHTML.entityMap,\n      );\n      setEditorState(EditorState.createWithContent(state));\n    } else {\n      setEditorState(EditorState.createEmpty());\n    }\n  }, [html]);\n\n  const { editorRef } = props;\n  useEffect(() => {\n    if (editorRef) {\n      editorRef.current = {\n        getHtmlContent() {\n          return stateToHTML(editorState?.getCurrentContent());\n        }\n      }\n    }\n  }, [editorRef, editorState]);\n\n  return (\n    <Editor wrapperClassName=\"border\" editorClassName=\"px-4\" editorState={editorState} onEditorStateChange={setEditorState} />\n  );\n}\n","import { Rule } from \"rc-field-form/lib/interface\";\n\ninterface IContentEditFormRules {\n  [key: string]: Rule[]\n}\n\nexport const ContentEditFormRules: IContentEditFormRules = {\n  title: [\n    { required: true, message: 'Title is required' },\n    { min: 4, message: 'Title is too short' },\n    { max: 255, message: 'Title is too long' }\n  ],\n  description: [\n    { required: true, message: 'Description is required' },\n  ],\n}","import React, { useCallback, useEffect, useMemo, useRef } from \"react\";\nimport { Checkbox, Form, Input, InputNumber, notification } from \"antd\";\nimport { IContent } from \"../../shared/entities/IContent\";\nimport { Uploader } from \"../uploader/Uploader\";\nimport { FileType } from \"../../shared/enums/FileType\";\nimport { FdmEditor } from \"../../shared/components/FdmEditor\";\nimport { ContentEditFormRules } from \"./ContentEditFormRules\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\n\ninterface IContentEditFormProps {\n  content?: IContent;\n  formRef?: any;\n}\n\nexport function ContentEditForm(props: IContentEditFormProps) {\n  const [form] = Form.useForm();\n  const { formRef, content: propsContent } = props;\n  const callbackRef = useRef<any>();\n  const videoRef = useRef<any>();\n  const editorRef = useRef<any>();\n\n  const validate = useCallback(async () => {\n    let content;\n    try {\n      content = await form.validateFields();\n    } catch {\n      return false;\n    }\n\n    if (!videoRef.current.getFile()) {\n      notification.error({\n        message: \"Error\",\n        description: `Content ${content.order} must have video`,\n      });\n      return false;\n    }\n\n    return content;\n  }, [form]);\n\n  const startProcess = useCallback(async () => {\n    const content = await validate();\n    if (!!videoRef.current.getFile()) {\n      videoRef.current.processFile();\n    }\n    return content;\n  }, [validate]);\n\n  const onUpLoadSuccessHandler = useCallback((result) => {\n    callbackRef.current(result.filePath);\n  }, []);\n\n  useEffect(() => {\n    if (formRef) {\n      formRef.current = {\n        validate,\n        getContent() {\n          return new Promise(async (resolve, reject) => {\n            let content = await startProcess();\n            if (!!content) {\n              callbackRef.current = (videoPath: string) => {\n                content = {\n                  ...content,\n                  description: editorRef.current.getHtmlContent(),\n                  videoPath,\n                };\n                if (propsContent) {\n                  content.id = propsContent.id;\n                }\n                resolve(content);\n              };\n            } else {\n              reject();\n            }\n          });\n        },\n      };\n    }\n  }, [formRef, startProcess, validate, propsContent]);\n\n  const video = useMemo(() => {\n    if (propsContent) {\n      return [\n        {\n          source: `${ASSETS_URL}/${propsContent.videoPath}`,\n          options: { type: \"local\" },\n        },\n      ];\n    }\n    return [];\n  }, [propsContent]);\n\n  return (\n    <>\n      <Form form={form} initialValues={props.content}>\n        <div className=\"flex\">\n          <div className=\"w-1/5 pr-2\">\n            <label className=\"block mb-2\">Order</label>\n            <Form.Item name=\"order\">\n              <InputNumber min={1} placeholder=\"Order...\" className=\"w-fulli\" />\n            </Form.Item>\n          </div>\n          <div className=\"w-4/5\">\n            <label className=\"block mb-2\">\n              Title <b className=\"text-red-400\">*</b>\n            </label>\n            <Form.Item name=\"title\" rules={ContentEditFormRules.title}>\n              <Input placeholder=\"Title...\" />\n            </Form.Item>\n          </div>\n        </div>\n        <Form.Item name=\"preview\" valuePropName=\"checked\">\n          <Checkbox>Preview</Checkbox>\n        </Form.Item>\n        <label className=\"block mb-2\">Description</label>\n        <Form.Item name=\"description\">\n          <FdmEditor editorRef={editorRef} html={props.content?.description} />\n        </Form.Item>\n      </Form>\n      <label className=\"block mb-2\">\n        Video <b className=\"text-red-400\">*</b>\n      </label>\n      <Uploader\n        files={video}\n        fileType={FileType.VIDEO}\n        state=\"videoPath\"\n        pondRef={videoRef}\n        onUploadSuccess={onUpLoadSuccessHandler}\n      />\n    </>\n  );\n}\n","import { Rule } from \"rc-field-form/lib/interface\";\n\ninterface ICourseEditFormRules {\n  [key: string]: Rule[]\n}\n\nexport const CourseEditFormRules: ICourseEditFormRules = {\n  categoryId: [\n    { required: true, message: 'Category is required' }\n  ],\n  title: [\n    { required: true, message: 'Title is required' },\n    { min: 8, message: 'Title is too short' },\n    { max: 255, message: 'Title is too long' }\n  ],\n  subDescription: [\n    { required: true, message: 'Sub-description is required' },\n    { min: 8, message: 'Sub-description is too short' }\n  ],\n  price: [\n    { required: true, message: 'Price is required' },\n    { type: 'number', min: 0, max: 500, message: 'Invalid price' }\n  ],\n  discount: [\n    { required: true, message: 'Discount is required' },\n    { type: 'number', min: 0, max: 500, message: 'Invalid discount' },\n    ({ getFieldValue }) => ({\n      async validator(_, discount: number) {\n        const price = getFieldValue('price') || 0;\n        if (price < discount) {\n          throw new Error(\"Invalid discount\");\n        }\n      },\n      validateTrigger: 'submit'\n    })\n  ]\n}","import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  Button,\n  Divider,\n  Form,\n  Input,\n  InputNumber,\n  notification,\n  Tooltip,\n} from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport { ICourse } from \"../../shared/entities/ICourse\";\nimport { FileType } from \"../../shared/enums/FileType\";\nimport { CategorySelect } from \"../category/CategorySelect\";\nimport { Uploader } from \"../uploader/Uploader\";\nimport { IContent } from \"../../shared/entities/IContent\";\nimport { ContentEditForm } from \"../content/ContentEditForm\";\nimport { CloseCircleFilled, PlusCircleOutlined } from \"@ant-design/icons\";\nimport { FdmEditor } from \"../../shared/components/FdmEditor\";\nimport { CourseEditFormRules } from \"./CourseEditFormRules\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { CourseService } from \"./CourseService\";\nimport { NotificationUtils } from \"../../shared/utils/NotificationUtils\";\nimport { ASSETS_URL } from \"../../shared/constants/constants\";\nimport { useHistory } from \"react-router\";\n\ninterface ICourseEditFormProps {\n  course?: ICourse;\n}\n\nexport function CourseEditForm(props: ICourseEditFormProps) {\n  const { course: propsCourse } = props;\n  const isUpdate = !!propsCourse;\n  const history = useHistory();\n  const [form] = useForm();\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [contents, setContents] = useState<IContent[]>([]);\n  const addContent = useCallback(() => {\n    setContents([\n      ...contents,\n      {\n        preview: false,\n        order: contents.length + 1,\n        key: uuidv4(),\n        formRef: { current: null },\n      } as any,\n    ]);\n  }, [contents]);\n\n  useEffect(() => {\n    if (propsCourse && propsCourse.contents) {\n      setContents(propsCourse.contents.map(content => ({\n        ...content,\n        key: uuidv4(),\n        formRef: { current: null }\n      })));\n    }\n  }, [propsCourse]);\n\n  const avatarRef = useRef<any>();\n  const coverRef = useRef<any>();\n  const startProcess = useCallback(async () => {\n    try {\n      await form.validateFields();\n    } catch {\n      return notification.error({\n        message: \"Error\",\n        description: \"Please correct all error fields before submit\",\n      });\n    }\n\n    if (!avatarRef.current.getFile()) {\n      return notification.error({\n        message: \"Error\",\n        description: \"Course's avatar is empty\",\n      });\n    }\n\n    if (!coverRef.current.getFile()) {\n      return notification.error({\n        message: \"Error\",\n        description: \"Course's cover is empty\",\n      });\n    }\n\n    if (contents.length === 0) {\n      return notification.error({\n        message: \"Error\",\n        description: \"There must be at least 1 content\",\n      });\n    }\n\n    let isContentsValid = true;\n    for (const content of contents) {\n      const isContentValid = await (content as any).formRef.current.validate();\n      isContentsValid = isContentsValid && isContentValid;\n    }\n\n    if (!isContentsValid) {\n      return notification.error({\n        message: \"Error\",\n        description: \"Please correct all error fields before submit\",\n      });\n    }\n\n    setSubmitLoading(true);\n    avatarRef.current.processFile();\n    coverRef.current.processFile();\n  }, [form, contents]);\n\n  const editorRef = useRef<any>();\n  const createCourse = useCallback(async () => {\n    const course: ICourse = await form.getFieldsValue();\n    course.contents = [];\n    for (const content of contents) {\n      course.contents.push(await (content as any).formRef.current.getContent());\n    }\n    course.description = editorRef.current.getHtmlContent();\n    course.coverPath = uploadResultRef.current.coverPath;\n    course.avatarPath = uploadResultRef.current.avatarPath;\n    try {\n      let courseId;\n      if (isUpdate) {\n        course.id = propsCourse?.id as any;\n        courseId = course.id;\n        await CourseService.update(course);\n      } else {\n        courseId = await CourseService.add(course);\n      }\n      notification.success({\n        message: \"Success\",\n        description: \"Save course success!\"\n      });\n      history.push(`/courses/save-result/${courseId}`);\n    } catch (err) {\n      console.error(err);\n      NotificationUtils.error(err.message);\n    }\n    setSubmitLoading(false);\n  }, [form, contents, isUpdate, history, propsCourse]);\n\n  const uploadResultRef = useRef<any>({});\n  const onUpLoadSuccessHandler = useCallback(\n    (result) => {\n      uploadResultRef.current[result.state] = result.filePath;\n      if (Object.keys(uploadResultRef.current).length === 2) {\n        createCourse();\n      }\n    },\n    [createCourse]\n  );\n\n  const uploadedFiles = useMemo(() => {\n    if (!!propsCourse) {\n      return {\n        avatar: [\n          {\n            source: `${ASSETS_URL}/${propsCourse.avatarPath}`,\n            options: { type: \"local\" }   \n          }\n        ],\n        cover: [\n          {\n            source: `${ASSETS_URL}/${propsCourse.coverPath}`,\n            options: { type: \"local\" }\n          }\n        ]\n      }\n    }\n    return {};\n  }, [propsCourse]);\n\n  return (\n    <>\n      <h1 className=\"text-xl\">\n        <b>Course information</b>\n      </h1>\n      <Divider />\n      <Form form={form} initialValues={props.course}>\n        <div className=\"flex\">\n          <div className=\"w-1/2 pr-2\">\n            <label className=\"block mb-2\">\n              Category <b className=\"text-red-400\">*</b>\n            </label>\n            <Form.Item name=\"categoryId\" rules={CourseEditFormRules.categoryId}>\n              <CategorySelect onlyChildren={true} />\n            </Form.Item>\n          </div>\n          <div className=\"w-1/2\">\n            <label className=\"block mb-2\">\n              Title <b className=\"text-red-400\">*</b>\n            </label>\n            <Form.Item name=\"title\" rules={CourseEditFormRules.title}>\n              <Input placeholder=\"Title...\" />\n            </Form.Item>\n          </div>\n        </div>\n        <div className=\"flex\">\n          <div className=\"w-1/2 pr-2\">\n            <label className=\"block mb-2\">\n              Price ($) <b className=\"text-red-400\">*</b>\n            </label>\n            <Form.Item name=\"price\" rules={CourseEditFormRules.price}>\n              <InputNumber\n                className=\"w-fulli\"\n                min={0}\n                max={500}\n                placeholder=\"Price...\"\n              />\n            </Form.Item>\n          </div>\n          <div className=\"w-1/2\">\n            <label className=\"block mb-2\">Discount ($)</label>\n            <Form.Item name=\"discount\" rules={CourseEditFormRules.discount}>\n              <InputNumber\n                className=\"w-fulli\"\n                min={0}\n                max={500}\n                placeholder=\"Discount...\"\n              />\n            </Form.Item>\n          </div>\n        </div>\n        <label className=\"block mb-2\">\n          Sub-description <b className=\"text-red-400\">*</b>\n        </label>\n        <Form.Item\n          name=\"subDescription\"\n          rules={CourseEditFormRules.subDescription}\n        >\n          <Input placeholder=\"Sub-description...\" />\n        </Form.Item>\n        <label className=\"block mb-2\">Description</label>\n        <Form.Item name=\"description\">\n          <FdmEditor html={propsCourse?.description} editorRef={editorRef} />\n        </Form.Item>\n      </Form>\n      <div>\n        <label className=\"block mb-2\">\n          Avatar <b className=\"text-red-400\">*</b>\n        </label>\n        <Uploader\n          files={uploadedFiles.avatar}\n          fileType={FileType.IMAGE}\n          state=\"avatarPath\"\n          onUploadSuccess={onUpLoadSuccessHandler}\n          pondRef={avatarRef}\n        />\n      </div>\n\n      <div>\n        <label className=\"block mb-2\">Cover</label>\n        <Uploader\n          files={uploadedFiles.cover}\n          fileType={FileType.IMAGE}\n          state=\"coverPath\"\n          onUploadSuccess={onUpLoadSuccessHandler}\n          pondRef={coverRef}\n        />\n      </div>\n\n      <h1 className=\"text-xl mt-8\">\n        <b>Contents</b>\n      </h1>\n      <Divider />\n      <div className=\"flex flex-wrap\">\n        {contents.map((content, idx: number) => (\n          <div className=\"w-1/2 pr-2 mb-2\" key={(content as any).key}>\n            <div className=\"rounded-lg p-3 border relative\">\n              <div\n                className=\"absolute text-red-400 cursor-pointer\"\n                style={{ top: \".3rem\", right: \".3rem\" }}\n              >\n                <Tooltip title=\"Remove\">\n                  <CloseCircleFilled\n                    className=\"text-xl\"\n                    onClick={() => {\n                      contents.splice(idx, 1);\n                      setContents([...contents]);\n                    }}\n                  />\n                </Tooltip>\n              </div>\n              <ContentEditForm\n                content={content}\n                formRef={(content as any).formRef}\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n      <Button type=\"primary\" shape=\"round\" onClick={addContent}>\n        <div className=\"flex items-center\">\n          <PlusCircleOutlined className=\"mr-2\" /> Add content\n        </div>\n      </Button>\n      <Divider />\n      <Button\n        loading={submitLoading}\n        danger\n        type=\"primary\"\n        shape=\"round\"\n        className=\"w-full\"\n        onClick={startProcess}\n      >\n        Save course\n      </Button>\n    </>\n  );\n}\n","import React from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { CourseEditForm } from '../course/CourseEditForm';\n\nexport function TeacherAddCoursePage(props: RouteComponentProps) {\n  return (\n    <div>\n      <CourseEditForm />\n    </div>\n  )\n}","import React, { useCallback } from \"react\";\nimport { useAuthedUser } from \"../../shared/hooks/useAuthedUser\";\nimport { CourseList } from \"../course/CourseList\";\nimport { CourseService } from \"../course/CourseService\";\nimport { ICourseSearchRequest } from \"../course/types/CourseSearchRequest\";\n\nexport function TeacherDashboardPage() {\n  const { authedUser } = useAuthedUser();\n  const { id: creatorId } = authedUser;\n  const fetchSource = useCallback(\n    (req: ICourseSearchRequest) => {\n      return CourseService.search({ ...req, creatorId });\n    },\n    [creatorId]\n  );\n\n  return (\n    <div>\n      <CourseList fetchSource={fetchSource} />\n    </div>\n  );\n}\n","import React, { useCallback } from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { FdmLoading } from '../../shared/components/FdmLoading';\nimport { useQuery } from '../../shared/hooks/useQuery.hook';\nimport { CourseEditForm } from '../course/CourseEditForm';\nimport { CourseService } from '../course/CourseService';\n\nexport function TeacherEditCoursePage(props: RouteComponentProps) {\n  const courseId = Number((props.match.params as any).courseId);\n  const fetchCourse = useCallback(() => {\n    return CourseService.getDetail(courseId);\n  }, [courseId]);\n  const courseResponse = useQuery(fetchCourse);\n\n  if (courseResponse.loading || !!courseResponse.error || !courseResponse.data) {\n    return (\n      <div className=\"flex justify-center items-center\">\n        <FdmLoading />\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <CourseEditForm course={courseResponse.data} />\n    </div>\n  )\n}","import { Tabs } from \"antd\";\nimport React from \"react\";\nimport { Redirect, Route, RouteComponentProps, Switch } from \"react-router\";\nimport { TeacherAddCoursePage } from \"./TeacherAddCoursePage\";\nimport { TeacherDashboardPage } from \"./TeacherDashboardPage\";\nimport { TeacherEditCoursePage } from \"./TeacherEditCoursePage\";\n\nexport function TeacherPage(props: RouteComponentProps) {\n  const { location } = props;\n  return (\n    <div>\n      <Tabs\n        activeKey={location.pathname}\n        onChange={(pathname) => props.history.push(pathname)}\n      >\n        <Tabs.TabPane key=\"/teacher/dashboard\" tab=\"Dashboard\" />\n        <Tabs.TabPane key=\"/teacher/add-course\" tab=\"Add course\" />\n      </Tabs>\n      <Switch>\n        <Redirect exact path=\"/teacher\" to=\"/teacher/dashboard\" />\n        <Route path=\"/teacher/dashboard\" component={TeacherDashboardPage} />\n        <Route path=\"/teacher/add-course\" component={TeacherAddCoursePage} />\n        <Route\n          path=\"/teacher/edit-course/:courseId\"\n          component={TeacherEditCoursePage}\n        />\n      </Switch>\n    </div>\n  );\n}\n","import { HeartFilled } from \"@ant-design/icons\";\nimport React, { useCallback } from \"react\";\nimport { CourseList } from \"../course/CourseList\";\nimport { CourseService } from \"../course/CourseService\";\nimport { ICourseSearchRequest } from \"../course/types/CourseSearchRequest\";\n\nexport function WatchListPage() {\n  const fetchSource = useCallback((request: ICourseSearchRequest) => {\n    return CourseService.search({\n      ...request,\n      onlyWatchList: true,\n    });\n  }, []);\n  return (\n    <div>\n      <h1 className=\"text-3xl text-red-400 flex items-center\">\n        <HeartFilled className=\"mr-2\" /> Your watch list\n      </h1>\n      <CourseList fetchSource={fetchSource} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Redirect, Route, RouteProps } from \"react-router\";\nimport { AuthService } from \"../../modules/auth/AuthService\";\nimport { UserRole } from \"../enums/UserRole\";\nimport { useAuthedUser } from \"../hooks/useAuthedUser\";\nimport { FdmLoading } from \"./FdmLoading\";\n\ninterface Props extends RouteProps {\n  component: any;\n  roles?: UserRole[];\n}\n\nexport const FdmAuthedRoute: React.FC<Props> = ({\n  component: Component,\n  roles,\n  ...rest\n}) => {\n  const { authedUser, loading } = useAuthedUser();\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (loading) {\n          return <FdmLoading />;\n        }\n\n        if (AuthService.isAuthed && (!roles || roles.includes((authedUser as any).role))) {\n          return <Component {...props} />;\n        }\n\n        return (\n          <Redirect\n            to={{ pathname: \"/auth/login\", state: { redirect: props.location.pathname } }}\n          />\n        );\n      }}\n    />\n  );\n};\n","import { Button, Result } from \"antd\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport function NotFoundPage() {\n  const history = useHistory();\n  return (\n    <Result\n      status=\"404\"\n      title=\"Page not found\"\n      extra={[\n        <Button\n          type=\"primary\"\n          shape=\"round\"\n          key=\"home\"\n          onClick={() => history.push(\"/\")}\n        >\n          Go to home page\n        </Button>,\n      ]}\n    />\n  );\n}\n","import React from \"react\";\nimport { Route, Switch } from \"react-router\";\nimport { AdminPage } from \"./modules/admin/AdminPage\";\nimport { AuthPage } from \"./modules/auth/AuthPage\";\nimport { CoursePage } from \"./modules/course/CoursePage\";\nimport { EnrollmentPage } from \"./modules/enrollment/EnrollmentPage\";\nimport { HomePage } from \"./modules/home/HomePage\";\nimport { ProfilePage } from \"./modules/profile/ProfilePage\";\nimport { TeacherPage } from \"./modules/teacher/TeacherPage\";\nimport { WatchListPage } from \"./modules/watch-list/WatchListPage\";\nimport { FdmAuthedRoute } from \"./shared/components/FdmAuthedRoute\";\nimport { UserRole } from \"./shared/enums/UserRole\";\nimport { NotFoundPage } from \"./shared/pages/NotFound.page\";\n\nexport function AppRoutes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route path=\"/auth\" component={AuthPage} />\n      <Route path=\"/courses\" component={CoursePage} />\n      <FdmAuthedRoute\n        path=\"/teacher\"\n        roles={[UserRole.TEACHER]}\n        component={TeacherPage}\n      />\n      <FdmAuthedRoute path=\"/profile\" component={ProfilePage} />\n      <FdmAuthedRoute path=\"/watch-list\" component={WatchListPage} />\n      <FdmAuthedRoute path=\"/enrollment\" component={EnrollmentPage} />\n      <FdmAuthedRoute\n        path=\"/admin\"\n        roles={[UserRole.ADMIN]}\n        component={AdminPage}\n      />\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n  );\n}\n","import moment from 'moment';\nimport React from 'react';\n\nexport function FdmFooter() {\n  return (\n    <div className=\"flex w-full justify-center border-t\">\n      <div className=\"container p-5 flex justify-center items-center text-blue-400\">\n        <b>{moment().year()} @ Fademy</b>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { Menu } from 'antd';\nimport { useHistory } from 'react-router';\nimport { ICategory } from '../entities/ICategory';\n\ninterface IFdmCategoryMenuProps {\n  categories: ICategory[];\n}\n\nexport function FdmCategoryMenu(props: IFdmCategoryMenuProps) {\n  const history = useHistory();\n  \n  function navigate(category: ICategory) {\n    history.push(`/courses/${category.id}`);\n  }\n\n  return (\n    <Menu>\n      {props.categories.map(parent => (\n        <Menu.SubMenu key={parent.id} title={parent.name} onTitleClick={() => navigate(parent)}>\n          {parent.children.map(child => (\n            <Menu.Item key={child.id} onClick={() => navigate(child)}>{child.name}</Menu.Item>\n          ))}\n        </Menu.SubMenu>\n      ))}\n    </Menu>\n  )\n}","import { BookOutlined, HeartOutlined, PoweroffOutlined, UserOutlined } from '@ant-design/icons';\nimport { Menu } from 'antd';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthService } from '../../modules/auth/AuthService';\nimport { IUser } from '../entities/IUser';\n\ninterface IFdmUserDropdownMenuProps {\n  user?: IUser;\n}\n\nexport function FdmUserDropdownMenu(props: IFdmUserDropdownMenuProps) {\n  return (\n    <Menu>\n      <Menu.Item>\n        <Link to=\"/profile\" className=\"flex items-center\">\n          <UserOutlined /> Profile\n        </Link>\n      </Menu.Item>\n      <Menu.Item>\n        <Link to=\"/watch-list\" className=\"flex items-center\">\n          <HeartOutlined /> Watch list\n        </Link>\n      </Menu.Item>\n      <Menu.Item>\n        <Link to=\"/enrollment\" className=\"flex items-center\">\n          <BookOutlined /> Enrollment\n        </Link>\n      </Menu.Item>\n      <Menu.Item onClick={() => AuthService.logout()}>\n        <div className=\"flex items-center text-red-400\">\n          <PoweroffOutlined /> Logout\n        </div>\n      </Menu.Item>\n    </Menu>\n  )\n}","import React, { useEffect, useMemo } from \"react\";\nimport { Button, Dropdown, Input } from \"antd\";\nimport { Link, NavLink, useHistory } from \"react-router-dom\";\nimport { CategoryService } from \"../../modules/category/CategoryService\";\nimport { useQuery } from \"../hooks/useQuery.hook\";\n\nimport { FdmCategoryMenu } from \"./FdmCategoryMenu\";\nimport { FdmLogo } from \"./FdmLogo\";\nimport { CaretDownOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { useAuthedUser } from \"../hooks/useAuthedUser\";\nimport { AuthService } from \"../../modules/auth/AuthService\";\nimport { FdmUserDropdownMenu } from \"./FdmUserDropdownMenu\";\nimport { useFdmStore } from \"../store/useFdmStore\";\nimport { useCompKey } from \"../hooks/useCompKey\";\nimport { UserRole } from \"../enums/UserRole\";\n\nexport function FdmHeader() {\n  const history = useHistory();\n  const categories = useQuery(CategoryService.all);\n  const categoryMenu = useMemo(() => {\n    if (!!categories.data) {\n      return <FdmCategoryMenu categories={categories.data} />;\n    }\n    return <>Loading...</>;\n  }, [categories.data]);\n\n  const { authedUser, loading } = useAuthedUser();\n  const userDropdownMenu = useMemo(() => {\n    return <FdmUserDropdownMenu user={authedUser as any} />;\n  }, [authedUser]);\n\n  const [globalState, dispatch] = useFdmStore();\n  const searchTermCompKey = useCompKey();\n  const renewSearchTermCompKey = searchTermCompKey.renewCompKey;\n\n  useEffect(() => {\n    renewSearchTermCompKey();\n  }, [globalState.searchTerm, renewSearchTermCompKey]);\n\n  return (\n    <div\n      className=\"w-full shadow h-16 fixed flex justify-center top-0 bg-white\"\n      style={{ zIndex: 10 }}\n    >\n      <div className=\"container flex items-center\">\n        <div className=\"flex w-full items-center\">\n          <Link to=\"/\" className=\"flex items-center\">\n            <FdmLogo />\n            <b className=\"ml-2 text-blue-400 text-xl\">Fademy</b>\n          </Link>\n          <NavLink\n            to=\"/\"\n            exact\n            className=\"text-gray-400 hover:text-gray-700 mx-4\"\n            activeClassName=\"text-gray-700\"\n          >\n            Home\n          </NavLink>\n          <Dropdown overlay={categoryMenu} overlayClassName=\"shadow\">\n            <div className=\"cursor-pointer text-gray-400 hover:text-gray-700 flex items-center\">\n              Categories <CaretDownOutlined />\n            </div>\n          </Dropdown>\n          {authedUser?.role === UserRole.TEACHER && (\n            <NavLink\n              to=\"/teacher\"\n              className=\"text-gray-400 hover:text-gray-700 mx-4\"\n              activeClassName=\"text-gray-700\"\n            >\n              Teacher\n            </NavLink>\n          )}\n          {authedUser?.role === UserRole.ADMIN && (\n            <NavLink\n              to=\"/admin\"\n              className=\"text-gray-400 hover:text-gray-700 mx-4\"\n              activeClassName=\"text-gray-700\"\n            >\n              Admin\n            </NavLink>\n          )}\n        </div>\n\n        <div className=\"ml-auto flex items-center\">\n          <Input.Search\n            key={searchTermCompKey.compKey}\n            allowClear\n            defaultValue={globalState.searchTerm}\n            placeholder=\"Search courses...\"\n            className=\"rounded mr-4\"\n            style={{ width: \"250px\" }}\n            onSearch={(searchTerm) => {\n              dispatch(\"SET_SEARCH_TERM\", searchTerm);\n              history.push(`/courses/0`);\n            }}\n          />\n          {AuthService.isAuthed ? (\n            <Dropdown\n              overlay={userDropdownMenu as any}\n              overlayClassName=\"shadow\"\n            >\n              {loading ? (\n                <>\n                  <LoadingOutlined className=\"mr-1\" /> Loading...\n                </>\n              ) : (\n                <Button type=\"primary\" shape=\"round\">\n                  <div className=\"flex items-center\">\n                    <span className=\"mr-2\">{authedUser?.email}</span>{\" \"}\n                    <CaretDownOutlined />\n                  </div>\n                </Button>\n              )}\n            </Dropdown>\n          ) : (\n            <>\n              <NavLink\n                to=\"/auth/login\"\n                className=\"text-gray-400 hover:text-gray-700 mr-4\"\n                activeClassName=\"text-gray-700\"\n              >\n                Login\n              </NavLink>\n              <NavLink\n                to=\"/auth/register\"\n                className=\"text-gray-400 hover:text-gray-700\"\n              >\n                <Button shape=\"round\" type=\"primary\">\n                  Get started\n                </Button>\n              </NavLink>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { AppRoutes } from './AppRoutes';\nimport { FdmFooter } from './shared/components/FdmFooter';\nimport { FdmHeader } from './shared/components/FdmHeader';\n\nfunction App() {\n  return (\n    <>\n      <FdmHeader />\n      <div className=\"mt-24 mb-12 flex w-full justify-center\">\n        <div className=\"container\">\n          <AppRoutes />\n        </div>\n      </div>\n      <FdmFooter />\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// @ts-ignore\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { initAxiosInterceptors } from \"./initAxiosInterceptors\";\nimport { FdmStore } from \"./shared/store/FdmStore\";\nimport { registerPlugin } from 'filepond';\nimport FilePondPluginFileValidateSize from 'filepond-plugin-file-validate-size';\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\nimport FilePondPluginImageResize from 'filepond-plugin-image-resize';\n\nimport \"antd/dist/antd.css\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport 'filepond/dist/filepond.min.css';\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css';\nimport 'filepond-plugin-media-preview/dist/filepond-plugin-media-preview.min.css';\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport \"./styles/index.css\";\nimport 'video-react/dist/video-react.css';\n\nconst FilePondPluginMediaPreview = require('filepond-plugin-media-preview');\n\nregisterPlugin(\n  FilePondPluginFileValidateSize,\n  FilePondPluginFileValidateType,\n  FilePondPluginImagePreview,\n  FilePondPluginImageResize,\n  FilePondPluginMediaPreview\n);\n\ninitAxiosInterceptors();\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <FdmStore>\n        <App />\n      </FdmStore>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import Axios from \"axios\";\nimport { AuthService } from \"./modules/auth/AuthService\";\nimport { AuthedApiEndpoints } from \"./shared/constants/ApiEndpoint\";\n\nexport function initAxiosInterceptors() {\n  Axios.interceptors.request.use((req) => {\n    const accessToken = AuthService.accessToken;\n    if (!accessToken) {\n      if (AuthedApiEndpoints.includes(req.url as any)) {\n        window.location.pathname = \"/auth/login\";\n      }\n    } else {\n      req.headers.Authorization = `Bearer ${accessToken}`;\n    }\n\n    return req;\n  });\n\n  Axios.interceptors.response.use(\n    (resp) => resp,\n    async (err) => {\n      if (AuthedApiEndpoints.includes(err.config.url as any)) {\n        if (err?.response?.status === 401) {\n          if (!!(await AuthService.refreshAccessToken())) {\n            return Axios.request(err.config);\n          }\n          window.location.pathname = \"/auth/login\";\n          return;\n        }\n      }\n      throw err;\n    }\n  );\n}\n"],"sourceRoot":""}